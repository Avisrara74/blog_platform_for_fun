{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stalk\\\\jm-blog-platform\\\\src\\\\components\\\\articles-list\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { Pagination } from 'antd';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/actions';\nimport { ArticlesWrapper, PaginationWrapper, ArticlesItemsWrapper, LoaderWrapper } from '../../styled-components';\nimport Article from './article';\n\nconst mapStateToProps = state => {\n  const {\n    articles,\n    getArticlesState\n  } = state;\n  return {\n    articles,\n    isArticlesReady: getArticlesState === 'finished',\n    isRequestProcessed: getArticlesState === 'processed'\n  };\n};\n\nconst actionCreator = {\n  getArticles: actions.getArticles\n};\n\nconst ArticlesList = props => {\n  const {\n    getArticles,\n    articles,\n    isArticlesReady,\n    isRequestProcessed\n  } = props;\n  const [currentPageNumber, setCurrentPageNumber] = useState(1);\n  const [currentPageSize, setPageSize] = useState(5);\n\n  const getArticlesRequest = async () => {\n    await getArticles();\n  };\n\n  const renderLoader = () => /*#__PURE__*/React.createElement(LoaderWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    type: \"Oval\",\n    color: \"rgb(82, 196, 26)\",\n    height: 200,\n    width: 200,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }));\n\n  const renderArticles = (pageNumber, pageSize) => {\n    const from = pageNumber * pageSize - pageSize;\n    const to = pageNumber * pageSize;\n    const currentArticlesArray = Array.from(articles).slice(from, to);\n    return /*#__PURE__*/React.createElement(Article, {\n      articles: currentArticlesArray,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 12\n      }\n    });\n  };\n\n  const handleOnChangePagination = (value, pageSize) => {\n    setCurrentPageNumber(value);\n    setPageSize(pageSize);\n  };\n\n  const renderPagination = () => /*#__PURE__*/React.createElement(Pagination, {\n    size: \"small\",\n    total: 500,\n    pageSize: 5,\n    showSizeChanger: false,\n    onChange: handleOnChangePagination,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  });\n\n  useEffect(() => {\n    if (!isArticlesReady) getArticlesRequest();\n  }, []);\n  return /*#__PURE__*/React.createElement(ArticlesWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ArticlesItemsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, isRequestProcessed || isArticlesReady ? renderArticles(currentPageNumber, currentPageSize) : renderLoader()), /*#__PURE__*/React.createElement(PaginationWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, renderPagination()));\n};\n\nexport default connect(mapStateToProps, actionCreator)(ArticlesList);","map":{"version":3,"sources":["C:/Users/stalk/jm-blog-platform/src/components/articles-list/index.js"],"names":["React","useEffect","useState","Loader","Pagination","connect","actions","ArticlesWrapper","PaginationWrapper","ArticlesItemsWrapper","LoaderWrapper","Article","mapStateToProps","state","articles","getArticlesState","isArticlesReady","isRequestProcessed","actionCreator","getArticles","ArticlesList","props","currentPageNumber","setCurrentPageNumber","currentPageSize","setPageSize","getArticlesRequest","renderLoader","renderArticles","pageNumber","pageSize","from","to","currentArticlesArray","Array","slice","handleOnChangePagination","value","renderPagination"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { Pagination } from 'antd';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/actions';\nimport {\n  ArticlesWrapper,\n  PaginationWrapper,\n  ArticlesItemsWrapper,\n  LoaderWrapper,\n} from '../../styled-components';\nimport Article from './article';\n\nconst mapStateToProps = (state) => {\n  const { articles, getArticlesState } = state;\n  return {\n    articles,\n    isArticlesReady: getArticlesState === 'finished',\n    isRequestProcessed: getArticlesState === 'processed',\n  };\n}\n\n\nconst actionCreator = {\n  getArticles: actions.getArticles,\n}\n\nconst ArticlesList = (props) => {\n  const { getArticles, articles, isArticlesReady, isRequestProcessed } = props;\n\n  const [currentPageNumber, setCurrentPageNumber] = useState(1);\n  const [currentPageSize, setPageSize] = useState(5);\n\n  const getArticlesRequest = async () => {\n    await getArticles();\n  }\n\n  const renderLoader = () => (\n    <LoaderWrapper>\n      <Loader type=\"Oval\" color=\"rgb(82, 196, 26)\" height={200} width={200} />\n    </LoaderWrapper>\n  );\n\n  const renderArticles = (pageNumber, pageSize) => {\n    const from = pageNumber * pageSize - pageSize;\n    const to = pageNumber * pageSize;\n    const currentArticlesArray = Array.from(articles).slice(from, to);\n\n    return <Article articles={currentArticlesArray} />;\n  };\n\n  const handleOnChangePagination = (value, pageSize) => {\n    setCurrentPageNumber(value);\n    setPageSize(pageSize);\n  };\n\n  const renderPagination = () => (\n    <Pagination\n      size=\"small\"\n      total={500}\n      pageSize={5}\n      showSizeChanger={false}\n      onChange={handleOnChangePagination}\n    />\n  );\n\n  useEffect(() => {\n    if (!isArticlesReady) getArticlesRequest();\n  }, []);\n\n  return (\n    <ArticlesWrapper>\n      <ArticlesItemsWrapper>\n        {(isRequestProcessed || isArticlesReady)\n          ? renderArticles(currentPageNumber, currentPageSize)\n          : renderLoader()}\n      </ArticlesItemsWrapper>\n\n      <PaginationWrapper>\n        {renderPagination()}\n      </PaginationWrapper>\n    </ArticlesWrapper>\n  );\n};\n\nexport default connect(mapStateToProps, actionCreator)(ArticlesList);\n"]},"metadata":{},"sourceType":"module"}