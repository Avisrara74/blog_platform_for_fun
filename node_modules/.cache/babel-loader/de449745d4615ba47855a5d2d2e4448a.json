{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stalk\\\\jm-blog-platform\\\\src\\\\components\\\\articles-list\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport Loader from 'react-loader-spinner';\nimport { uniqueId } from 'lodash';\nimport { Pagination } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/actions';\nimport activeLikeSrc from \"../../images/like-active.svg\";\nimport disabledLikeSrc from \"../../images/like-disabled.svg\";\nimport userDefaultImgSrc from \"../../images/user-default-img.svg\";\nimport axios from 'axios';\nimport { ArticlesWrapper, PaginationWrapper, ArticlesDate, ArticlesUserImage, ArticlesUsername, ArticlesUserInfoGroup, ArticlesUserInfo, ArticlesDescription, ArticlesTag, ArticlesStats, ArticlesTagsWrap, ArticlesLikesCount, articlesTitle, ArtickesLikeImg, ArticlesItemsWrapper, ArticlesItem, ArticlesInfo, ArticlesHeader, LoaderWrapper } from '../../styled-components';\nimport { articleUrl } from '../../routes';\n\nconst mapStateToProps = state => {\n  const {\n    articles,\n    getArticlesState\n  } = state;\n  console.log(state);\n  return {\n    articles,\n    isArticlesReady: getArticlesState === 'finished',\n    isRequestProcessed: getArticlesState === 'processed'\n  };\n};\n\nconst actionCreator = {\n  getArticles: actions.getArticles\n};\n\nconst ArticlesList = props => {\n  const {\n    getArticles,\n    articles,\n    isArticlesReady,\n    isRequestProcessed\n  } = props;\n\n  const getArticlesRequest = async () => {\n    await getArticles();\n  };\n\n  const renderLoader = () => /*#__PURE__*/React.createElement(LoaderWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    type: \"Oval\",\n    color: \"rgb(82, 196, 26)\",\n    height: 200,\n    width: 200,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }));\n\n  const onClickText = () => {\n    const test = axios.get('https://conduit.productionready.io/api/articles');\n    test.then(result => console.log(result));\n  };\n\n  const renderPagination = () => /*#__PURE__*/React.createElement(Pagination, {\n    size: \"small\",\n    total: 500,\n    pageSize: 5,\n    showSizeChanger: false,\n    onChange: handleOnChangePagination,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  });\n\n  useEffect(() => {\n    if (!isArticlesReady) getArticlesRequest();\n  }, []);\n\n  const renderArticles = (pageNumber = 1, pageSize = 5) => {\n    const from = pageNumber * pageSize - pageSize;\n    const to = pageNumber * pageSize;\n    const currentArticlesArray = Array.from(articles).slice(from, to);\n    return currentArticlesArray.map(article => {\n      const {\n        author,\n        createdAt,\n        description,\n        favoritesCount,\n        favorited,\n        id,\n        tagList,\n        title\n      } = article;\n      const {\n        username,\n        image\n      } = author;\n      const initialTagList = tagList.map(tagName => ({\n        id: uniqueId(),\n        title: tagName\n      }));\n\n      const renderTagList = () => initialTagList.map(tag => /*#__PURE__*/React.createElement(ArticlesTag, {\n        key: tag.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 37\n        }\n      }, tag.title));\n\n      return /*#__PURE__*/React.createElement(ArticlesItem, {\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ArticlesInfo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ArticlesHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        style: articlesTitle,\n        to: articleUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }, title), /*#__PURE__*/React.createElement(ArticlesStats, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(ArtickesLikeImg, {\n        src: favorited ? activeLikeSrc : disabledLikeSrc,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(ArticlesLikesCount, {\n        onClick: onClickText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }\n      }, favoritesCount))), /*#__PURE__*/React.createElement(ArticlesTagsWrap, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, renderTagList()), /*#__PURE__*/React.createElement(ArticlesDescription, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }, description)), /*#__PURE__*/React.createElement(ArticlesUserInfo, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ArticlesUserInfoGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ArticlesUsername, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 15\n        }\n      }, username), /*#__PURE__*/React.createElement(ArticlesDate, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }\n      }, \"March 5, 2020\")), /*#__PURE__*/React.createElement(ArticlesUserImage, {\n        src: image,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      })));\n    });\n  };\n\n  const handleOnChangePagination = (value, pageSize) => {\n    renderArticles(value, pageSize);\n  };\n\n  return /*#__PURE__*/React.createElement(ArticlesWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ArticlesItemsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, isRequestProcessed || isArticlesReady ? renderArticles() : renderLoader()), /*#__PURE__*/React.createElement(PaginationWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }, renderPagination()));\n};\n\nexport default connect(mapStateToProps, actionCreator)(ArticlesList);","map":{"version":3,"sources":["C:/Users/stalk/jm-blog-platform/src/components/articles-list/index.js"],"names":["React","useEffect","useState","Loader","uniqueId","Pagination","Link","connect","actions","axios","ArticlesWrapper","PaginationWrapper","ArticlesDate","ArticlesUserImage","ArticlesUsername","ArticlesUserInfoGroup","ArticlesUserInfo","ArticlesDescription","ArticlesTag","ArticlesStats","ArticlesTagsWrap","ArticlesLikesCount","articlesTitle","ArtickesLikeImg","ArticlesItemsWrapper","ArticlesItem","ArticlesInfo","ArticlesHeader","LoaderWrapper","articleUrl","mapStateToProps","state","articles","getArticlesState","console","log","isArticlesReady","isRequestProcessed","actionCreator","getArticles","ArticlesList","props","getArticlesRequest","renderLoader","onClickText","test","get","then","result","renderPagination","handleOnChangePagination","renderArticles","pageNumber","pageSize","from","to","currentArticlesArray","Array","slice","map","article","author","createdAt","description","favoritesCount","favorited","id","tagList","title","username","image","initialTagList","tagName","renderTagList","tag","activeLikeSrc","disabledLikeSrc","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Loader from 'react-loader-spinner'\nimport { uniqueId } from 'lodash';\nimport { Pagination } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux/actions';\nimport activeLikeSrc from '../../images/like-active.svg';\nimport disabledLikeSrc from '../../images/like-disabled.svg';\nimport userDefaultImgSrc from '../../images/user-default-img.svg';\nimport axios from 'axios'\nimport {\n  ArticlesWrapper,\n  PaginationWrapper,\n  ArticlesDate,\n  ArticlesUserImage,\n  ArticlesUsername,\n  ArticlesUserInfoGroup,\n  ArticlesUserInfo,\n  ArticlesDescription,\n  ArticlesTag,\n  ArticlesStats,\n  ArticlesTagsWrap,\n  ArticlesLikesCount,\n  articlesTitle,\n  ArtickesLikeImg,\n  ArticlesItemsWrapper,\n  ArticlesItem,\n  ArticlesInfo,\n  ArticlesHeader,\n  LoaderWrapper,\n} from '../../styled-components';\nimport { articleUrl } from '../../routes';\n\nconst mapStateToProps = (state) => {\n  const { articles, getArticlesState } = state;\n  console.log(state);\n  return {\n    articles,\n    isArticlesReady: getArticlesState === 'finished',\n    isRequestProcessed: getArticlesState === 'processed',\n  };\n}\n\nconst actionCreator = {\n  getArticles: actions.getArticles,\n}\n\nconst ArticlesList = (props) => {\n  const { getArticles, articles, isArticlesReady, isRequestProcessed } = props;\n\n  const getArticlesRequest = async () => {\n    await getArticles();\n  }\n\n  const renderLoader = () => (\n    <LoaderWrapper>\n      <Loader type=\"Oval\" color=\"rgb(82, 196, 26)\" height={200} width={200} />\n    </LoaderWrapper>\n  );\n\n  const onClickText = () => {\n    const test = axios.get('https://conduit.productionready.io/api/articles');\n\n    test.then((result) => console.log(result));\n  }\n  const renderPagination = () => (\n    <Pagination\n      size=\"small\"\n      total={500}\n      pageSize={5}\n      showSizeChanger={false}\n      onChange={handleOnChangePagination}\n    />\n  );\n\n  useEffect(() => {\n    if (!isArticlesReady) getArticlesRequest();\n  }, []);\n\n  const renderArticles = (pageNumber = 1, pageSize = 5) => {\n\n    const from = pageNumber * pageSize - pageSize;\n    const to = pageNumber * pageSize\n    const currentArticlesArray = Array.from(articles).slice(from, to);\n\n    return currentArticlesArray.map((article) => {\n      const { author, createdAt, description, favoritesCount, favorited, id, tagList, title } = article;\n      const { username, image } = author;\n      const initialTagList = tagList.map((tagName) => ({ id: uniqueId(), title: tagName }));\n\n      const renderTagList = () => (\n        initialTagList.map((tag) => <ArticlesTag key={tag.id}>{tag.title}</ArticlesTag>)\n      );\n\n      return (\n        <ArticlesItem key={id}>\n          <ArticlesInfo>\n            <ArticlesHeader>\n              <Link style={articlesTitle} to={articleUrl}>\n                {title}\n              </Link>\n              <ArticlesStats>\n                <ArtickesLikeImg src={favorited ? activeLikeSrc : disabledLikeSrc} />\n                <ArticlesLikesCount onClick={onClickText}>{favoritesCount}</ArticlesLikesCount>\n              </ArticlesStats>\n            </ArticlesHeader>\n            <ArticlesTagsWrap>\n              {renderTagList()}\n            </ArticlesTagsWrap>\n\n            <ArticlesDescription>\n              {description}\n            </ArticlesDescription>\n          </ArticlesInfo>\n\n          <ArticlesUserInfo>\n            <ArticlesUserInfoGroup>\n              <ArticlesUsername>{username}</ArticlesUsername>\n              <ArticlesDate>March 5, 2020</ArticlesDate>\n            </ArticlesUserInfoGroup>\n            <ArticlesUserImage src={image} />\n          </ArticlesUserInfo>\n        </ArticlesItem>\n      );\n    })\n  };\n\n  const handleOnChangePagination = (value, pageSize) => {\n    renderArticles(value, pageSize);\n  }\n\n  return (\n    <ArticlesWrapper>\n      <ArticlesItemsWrapper>\n        {(isRequestProcessed || isArticlesReady) ? renderArticles() : renderLoader() }\n      </ArticlesItemsWrapper>\n\n      <PaginationWrapper>\n        {renderPagination()}\n      </PaginationWrapper>\n    </ArticlesWrapper>\n  )\n}\n\nexport default connect(mapStateToProps, actionCreator)(ArticlesList);\n"]},"metadata":{},"sourceType":"module"}