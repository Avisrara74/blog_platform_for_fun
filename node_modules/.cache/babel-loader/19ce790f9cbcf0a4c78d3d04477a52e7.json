{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stalk\\\\jm-blog-platform\\\\src\\\\components\\\\App.js\";\nimport React, { useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport HomePage from './home-page';\nimport SignIn from './sign-in';\nimport SignUp from './sign-up';\nimport PrivateRoute from '../react-router/private-route';\nimport AuthRoute from '../react-router/auth-route';\nimport * as actions from '../redux/actions';\nimport { signInSuccess } from '../redux/actions';\n\nconst mapStateToProps = state => {\n  const {\n    userData\n  } = state;\n  const props = {\n    isAuthorized: userData.isAuthorized,\n    userData\n  };\n  return props;\n};\n\nconst actionCreators = {\n  signInSuccess: actions.signInSuccess\n};\n\nconst App = props => {\n  const {\n    dispatch,\n    isAuthorized\n  } = props;\n\n  const authorizationCheck = () => {\n    if (localStorage.token === undefined) return;\n    dispatch(signInSuccess({\n      isAuthorized: true,\n      token: localStorage.token,\n      username: localStorage.username\n    }));\n  };\n\n  useEffect(() => {\n    authorizationCheck();\n  }, [isAuthorized]);\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: \"/\",\n    exact: true,\n    component: HomePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AuthRoute, {\n    path: \"/sign-in\",\n    component: SignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AuthRoute, {\n    path: \"/sign-up\",\n    component: SignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/sign-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  })));\n};\n\nApp.propTypes = {\n  dispatch: propTypes.func,\n  isAuthorized: propTypes.bool\n};\nApp.defaultProps = {\n  dispatch: null,\n  isAuthorized: false\n};\nexport default connect(mapStateToProps, actionCreators)(App);","map":{"version":3,"sources":["C:/Users/stalk/jm-blog-platform/src/components/App.js"],"names":["React","useEffect","propTypes","BrowserRouter","Router","Switch","Redirect","connect","HomePage","SignIn","SignUp","PrivateRoute","AuthRoute","actions","signInSuccess","mapStateToProps","state","userData","props","isAuthorized","actionCreators","App","dispatch","authorizationCheck","localStorage","token","undefined","username","func","bool","defaultProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,QAHF,QAIO,kBAJP;AAKA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAO,KAAKC,OAAZ,MAAyB,kBAAzB;AACA,SAASC,aAAT,QAA8B,kBAA9B;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAeD,KAArB;AACA,QAAME,KAAK,GAAG;AACZC,IAAAA,YAAY,EAAEF,QAAQ,CAACE,YADX;AAEZF,IAAAA;AAFY,GAAd;AAIA,SAAOC,KAAP;AACD,CAPD;;AASA,MAAME,cAAc,GAAG;AACrBN,EAAAA,aAAa,EAAED,OAAO,CAACC;AADF,CAAvB;;AAIA,MAAMO,GAAG,GAAIH,KAAD,IAAW;AACrB,QAAM;AAAEI,IAAAA,QAAF;AAAYH,IAAAA;AAAZ,MAA6BD,KAAnC;;AACA,QAAMK,kBAAkB,GAAG,MAAM;AAC/B,QAAIC,YAAY,CAACC,KAAb,KAAuBC,SAA3B,EAAsC;AACtCJ,IAAAA,QAAQ,CAACR,aAAa,CAAC;AACrBK,MAAAA,YAAY,EAAE,IADO;AAErBM,MAAAA,KAAK,EAAED,YAAY,CAACC,KAFC;AAGrBE,MAAAA,QAAQ,EAAEH,YAAY,CAACG;AAHF,KAAD,CAAd,CAAR;AAKD,GAPD;;AASA1B,EAAAA,SAAS,CAAC,MAAM;AACdsB,IAAAA,kBAAkB;AACnB,GAFQ,EAEN,CAACJ,YAAD,CAFM,CAAT;AAIA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,GAAnB;AAAuB,IAAA,KAAK,MAA5B;AAA6B,IAAA,SAAS,EAAEX,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAC,UAAhB;AAA2B,IAAA,SAAS,EAAEC,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAC,UAAhB;AAA2B,IAAA,SAAS,EAAEC,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF,CADF;AAUD,CAzBD;;AA2BAW,GAAG,CAACnB,SAAJ,GAAgB;AACdoB,EAAAA,QAAQ,EAAEpB,SAAS,CAAC0B,IADN;AAEdT,EAAAA,YAAY,EAAEjB,SAAS,CAAC2B;AAFV,CAAhB;AAKAR,GAAG,CAACS,YAAJ,GAAmB;AACjBR,EAAAA,QAAQ,EAAE,IADO;AAEjBH,EAAAA,YAAY,EAAE;AAFG,CAAnB;AAKA,eAAeZ,OAAO,CAACQ,eAAD,EAAkBK,cAAlB,CAAP,CAAyCC,GAAzC,CAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport HomePage from './home-page';\nimport SignIn from './sign-in';\nimport SignUp from './sign-up';\nimport PrivateRoute from '../react-router/private-route';\nimport AuthRoute from '../react-router/auth-route';\nimport * as actions from '../redux/actions';\nimport { signInSuccess } from '../redux/actions';\n\nconst mapStateToProps = (state) => {\n  const { userData } = state;\n  const props = {\n    isAuthorized: userData.isAuthorized,\n    userData,\n  };\n  return props;\n};\n\nconst actionCreators = {\n  signInSuccess: actions.signInSuccess,\n};\n\nconst App = (props) => {\n  const { dispatch, isAuthorized } = props;\n  const authorizationCheck = () => {\n    if (localStorage.token === undefined) return;\n    dispatch(signInSuccess({\n      isAuthorized: true,\n      token: localStorage.token,\n      username: localStorage.username,\n    }));\n  };\n\n  useEffect(() => {\n    authorizationCheck();\n  }, [isAuthorized]);\n\n  return (\n    <Router>\n      <Switch>\n        <PrivateRoute path=\"/\" exact component={HomePage} />\n        <AuthRoute path=\"/sign-in\" component={SignIn} />\n        <AuthRoute path=\"/sign-up\" component={SignUp} />\n        <Redirect to=\"/sign-in\" />\n      </Switch>\n    </Router>\n  );\n};\n\nApp.propTypes = {\n  dispatch: propTypes.func,\n  isAuthorized: propTypes.bool,\n};\n\nApp.defaultProps = {\n  dispatch: null,\n  isAuthorized: false,\n};\n\nexport default connect(mapStateToProps, actionCreators)(App);\n"]},"metadata":{},"sourceType":"module"}