{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stalk\\\\jm-blog-platform\\\\src\\\\components\\\\App.js\";\nimport React, { useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport * as actions from '../redux/actions';\nimport { signInSuccess } from '../redux/actions';\nimport Header from './header';\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\nconst MainWrapper = styled.div`\n  background-color: #E5E5E5;\n`;\nconst ContentHeader = styled.header`\n  \n`;\nconst ContentBodyWrapper = styled.div`\n  min-height: calc(100vh - 80px);\n`;\nconst ContentBody = styled.div`\n  background-color: white;\n  margin: 24px 24px;\n  max-width: 941px;\n  padding: 16px;\n`;\n\nconst mapStateToProps = state => {\n  const {\n    userData\n  } = state;\n  const props = {\n    isAuthorized: userData.isAuthorized,\n    userData\n  };\n  return props;\n};\n\nconst actionCreators = {\n  signInSuccess: actions.signInSuccess\n};\n\nconst App = props => {\n  const {\n    dispatch,\n    isAuthorized\n  } = props;\n\n  const authorizationCheck = () => {\n    if (localStorage.token === undefined) return;\n    dispatch(signInSuccess({\n      isAuthorized: true,\n      token: localStorage.token,\n      username: localStorage.username\n    }));\n  };\n\n  useEffect(() => {\n    authorizationCheck();\n  }, [isAuthorized]);\n  return /*#__PURE__*/React.createElement(MainWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ContentHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ContentBodyWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ContentBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    path: \"/\",\n    exact: true,\n    component: HomePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(BrowserRouter, {\n    path: \"/sign-in\",\n    component: SignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(BrowserRouter, {\n    path: \"/sign-up\",\n    component: SignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/sign-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nApp.propTypes = {\n  dispatch: propTypes.func,\n  isAuthorized: propTypes.bool\n};\nApp.defaultProps = {\n  dispatch: null,\n  isAuthorized: false\n};\nexport default connect(mapStateToProps, actionCreators)(App);","map":{"version":3,"sources":["C:/Users/stalk/jm-blog-platform/src/components/App.js"],"names":["React","useEffect","propTypes","connect","styled","actions","signInSuccess","Header","BrowserRouter","Router","Switch","Redirect","MainWrapper","div","ContentHeader","header","ContentBodyWrapper","ContentBody","mapStateToProps","state","userData","props","isAuthorized","actionCreators","App","dispatch","authorizationCheck","localStorage","token","undefined","username","HomePage","SignIn","SignUp","func","bool","defaultProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport * as actions from '../redux/actions';\nimport { signInSuccess } from '../redux/actions';\nimport Header from './header';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\n\n\nconst MainWrapper = styled.div`\n  background-color: #E5E5E5;\n`;\n\nconst ContentHeader = styled.header`\n  \n`;\n\nconst ContentBodyWrapper = styled.div`\n  min-height: calc(100vh - 80px);\n`;\n\nconst ContentBody = styled.div`\n  background-color: white;\n  margin: 24px 24px;\n  max-width: 941px;\n  padding: 16px;\n`;\n\nconst mapStateToProps = (state) => {\n  const { userData } = state;\n  const props = {\n    isAuthorized: userData.isAuthorized,\n    userData,\n  };\n  return props;\n};\n\nconst actionCreators = {\n  signInSuccess: actions.signInSuccess,\n};\n\nconst App = (props) => {\n  const { dispatch, isAuthorized } = props;\n  const authorizationCheck = () => {\n    if (localStorage.token === undefined) return;\n    dispatch(signInSuccess({\n      isAuthorized: true,\n      token: localStorage.token,\n      username: localStorage.username,\n    }));\n  };\n\n  useEffect(() => {\n    authorizationCheck();\n  }, [isAuthorized]);\n\n  return (\n    <MainWrapper>\n      <ContentHeader>\n        <Header />\n      </ContentHeader>\n      <ContentBodyWrapper>\n        <ContentBody>\n          <Router>\n            <Switch>\n              <BrowserRouter path=\"/\" exact component={HomePage} />\n              <BrowserRouter path=\"/sign-in\" component={SignIn} />\n              <BrowserRouter path=\"/sign-up\" component={SignUp} />\n              <Redirect to=\"/sign-in\" />\n            </Switch>\n          </Router>\n        </ContentBody>\n      </ContentBodyWrapper>\n    </MainWrapper>\n  );\n};\n\nApp.propTypes = {\n  dispatch: propTypes.func,\n  isAuthorized: propTypes.bool,\n};\n\nApp.defaultProps = {\n  dispatch: null,\n  isAuthorized: false,\n};\n\nexport default connect(mapStateToProps, actionCreators)(App);\n"]},"metadata":{},"sourceType":"module"}