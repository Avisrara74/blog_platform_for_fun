{"version":3,"sources":["images/like-active.svg","images/like-disabled.svg","images/user-default-img.svg","serviceWorker.js","API/routes.js","API/index.js","API/auth.js","redux/actions/auth.js","routes/index.js","react-router/private-route.js","react-router/auth-route.js","styled-components/index.js","components/header/index.js","helper.js","components/sign-in/index.js","components/sign-up/index.js","API/user.js","redux/actions/user.js","components/edit-profile/index.js","API/articles.js","redux/actions/articles.js","components/articles-list/article.js","components/articles-list/index.js","components/article/index.js","components/edit-article/index.js","components/create-article/index.js","components/App.js","localstorage/index.js","redux/reducers/dataReducers.js","redux/reducers/stateReducers.js","redux/reducers/index.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","url","signUpUrl","signInUrl","articlesUrl","userProfileUrl","oneArticleUrl","queryParam","changeLikeUrl","checkFieldErrors","errResponse","formik","Object","entries","forEach","error","field","message","setFieldError","setSubmitting","networkErrorCheck","err","alert","signInErrorsCheck","keys","length","mainRequestHandler","req","headers","json","undefined","localStorage","token","Authorization","axios","interceptors","request","use","signInProcess","userData","a","post","routes","response","responseUserData","data","user","username","isAuthorized","userProfileImage","image","status","errors","signUpProcess","newUser","signUpRequest","createAction","signUpSuccess","signUpFailure","signInRequest","signInSuccess","signInFailure","logOutSuccess","articleUrl","slug","editArticleUrl","connect","state","props","children","rest","render","to","defaultButtonStyles","MainWrapper","styled","div","ContentHeader","header","ContentWrapper","ContentBody","ContentAuth","ArticlesWrapper","ArticlesItemsWrapper","ArticlesItem","ArticleWrapper","ArticleHeader","ArticleBody","ArticlesInfo","ArticlesHeader","ArticlesHeaderTitle","ArticlesStats","ArticlesLikeImg","img","ArticlesLikesCount","span","ArticlesUserInfoWrap","ArticleUserInfoWrap","ArticlesUserInfo","ArticlesTagsWrap","ArticlesTag","ArticlesDescription","p","ArticlesUserInfoGroup","ArticleAuthorOptions","ArticleDeleteButton","button","ArticleEditButton","ArticlesUsername","ArticlesDate","ArticlesUserImage","PaginationWrapper","FormSignInWrapper","Form","form","FormTitle","FormItem","label","FormSignUpLink","FormSignInLink","FormItemError","FormCheckboxWrap","FormCheckboxTitle","FormSubmitButtonStyles","height","FormArticle","FormItemTagsWrap","FormAddTagButton","FormRemoveTagButton","FormItemTagsTitle","FormItemTag","LoaderWrapper","HeaderWrapper","HeaderIsAuth","HeaderUsername","HeaderIsNotAuth","HeaderSignIn","HeaderSignUp","HeaderCreateArticle","HeaderLogOut","HeaderEditProfile","actionCreator","logOutProcess","Header","handleOnLogOut","src","onClick","defaultProps","userDefaultImgUrl","renderLoader","type","color","width","renderErrorMessage","fieldName","touched","getDate","createdAt","formatDistanceToNow","Date","formikInitialValues","email","password","actionCreators","signIn","dispatch","api","SignIn","isInputsDisable","history","useHistory","useFormik","initialValues","onSubmit","values","handleOnAuthorizationUser","useEffect","push","handleSubmit","htmlFor","placeholder","id","name","onChange","handleChange","value","disabled","Password","iconRender","visible","EyeTwoTone","EyeInvisibleOutlined","htmlType","className","style","signInState","formikInicialValues","repeatPassword","acceptTerms","formItems","uniqueId","title","formikValidationSchema","Yup","max","required","min","matches","oneOf","signUp","newUserData","SignUp","isUserRegistered","handleOnSignUp","validationSchema","map","formItem","key","checked","signUpState","editUserProfile","put","editUserProfileRequest","editUserProfileSuccess","editUserProfileFailure","EditProfile","handleOnEditUserProfile","editUserProfileState","getArticles","articlesPerRequest","articlesCounter","localRequestHandler","params","limit","offset","requestInterceptor","get","articles","articlesCount","initialArticlesById","el","tagList","tagName","articlesArray","eject","createArticle","articleBody","article","getOneArticle","editArticle","addLike","likeBody","favorited","delete","isFavorited","console","log","removeArticle","getArticlesProcess","getArticlesSuccess","createArticleRequest","createArticleSuccess","createArticleFailure","getOneArticleRequest","getOneArticleSuccess","getOneArticleFailure","editArticleRequest","editArticleSuccess","editArticleFailure","addLikeRequest","addLikeSuccess","addLikeFailure","refreshLikeInArticlesArray","removeArticleRequest","removeArticleSuccess","removeArticleFailure","refreshArticlesRequest","linkStyles","textDecoration","isRepeatedRequest","isAlreadyRequested","likesStateOnServer","addLikeRequestState","isLikeChangedOnServer","localLikesStateProcess","author","description","favoritesCount","dateDiff","isLiked","activeLikeSrc","disabledLikeSrc","articleLikeInfo","event","preventDefault","stopPropagation","some","rejectRequest","handleOnLikeArticle","tag","currentArticlesCounter","fetchArticles","counter","refreshArticles","ArticlesList","total","isArticlesReady","isRequestProcessed","isNewArticleCreated","isArticleEdited","isArticleRemoved","useState","currentPageNumber","setCurrentPageNumber","currentPageSize","setPageSize","getArticlesRequest","handleOnChangePagination","pageSize","pageNumber","from","currentArticlesArray","Array","slice","renderArticles","size","showSizeChanger","getArticlesState","createArticleState","editArticleState","removeArticleState","actions","oneArticle","oneArticleState","isOneArticleReady","useParams","validSlug","handleOnDeleteArticle","confirm","Modal","icon","ExclamationCircleOutlined","onOk","renderArticle","isArray","find","body","isCurrentUserAuthor","source","formSubmitButtonStyles","maxWidth","formAddTagInputStyles","borderRadius","markdownStyles","flexGrow","tagText","articleData","EditArticle","isArticleChanged","isInputsDisabled","handleOnEditArticle","tags","redirectToHome","setFieldValue","setFormikValues","handleOnAddTag","trim","initialNewTag","newTagsArray","handleOnRemoveTag","filter","handleOnClearTagInput","TextArea","rows","allowClear","renderTags","CreateArticle","isArticlePublished","handleOnCreateArticle","App","exact","path","component","setItemToLocalstorage","setItem","String","removeItemFromLocalstorage","removeItem","userDataInitial","handleActions","authActions","action","payload","userActions","articlesActions","currentArticleIndex","findIndex","currentArticle","changedArticle","newState","combineReducers","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.bd867449.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/like-active.24897746.svg\";","module.exports = __webpack_public_path__ + \"static/media/like-disabled.d17fcd0b.svg\";","module.exports = __webpack_public_path__ + \"static/media/user-default-img.1197b293.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const url = 'https://conduit.productionready.io/api/';\nexport const signUpUrl = `${url}users`;\nexport const signInUrl = `${url}users/login`;\nexport const articlesUrl = `${url}articles`;\nexport const userProfileUrl = `${url}user`;\n\nexport const oneArticleUrl = (queryParam) => `${articlesUrl}/${queryParam}`;\n\nexport const changeLikeUrl = (queryParam) => `${articlesUrl}/${queryParam}/favorite`;\n","// проверка на ошибки в полях форм\nexport const checkFieldErrors = (errResponse, formik) => {\n  Object.entries(errResponse).forEach((error) => {\n    const [field, message] = error;\n    formik.setFieldError(field, message[0]);\n    formik.setSubmitting(false);\n  });\n};\n\n// проверка на ошибку сети\nexport const networkErrorCheck = (err) => {\n  if (err.message === 'Network Error') {\n    alert('Ошибка соединения'); // eslint-disable-line no-alert\n  }\n};\n\n// проверка ошибки авторизации\nexport const signInErrorsCheck = (errResponse, formik) => {\n  if (Object.keys(errResponse).length > 0) {\n    formik.setFieldError('email', 'Invalid login or password');\n    formik.setFieldError('password', 'Invalid login or password');\n    formik.setSubmitting(false);\n  }\n};\n\nexport const mainRequestHandler = (req) => {\n  req.headers['Content-Type'] = 'application/json;charset=utf-8';\n  req.json = true;\n\n  if (localStorage.token !== undefined) {\n    req.headers.Authorization = `Token ${localStorage.token}`;\n  }\n\n  return req;\n};\n","import axios from 'axios';\nimport * as routes from './routes';\nimport {\n  checkFieldErrors,\n  mainRequestHandler,\n  networkErrorCheck,\n  signInErrorsCheck,\n} from './index';\n\naxios.interceptors.request.use(\n  (req) => mainRequestHandler(req),\n);\n\n// авторизация\nexport const signInProcess = async (userData, formik) => {\n  try {\n    const response = await axios.post(routes.signInUrl, userData);\n    const responseUserData = response.data.user;\n    return {\n      username: responseUserData.username,\n      token: responseUserData.token,\n      isAuthorized: true,\n      userProfileImage: responseUserData.image,\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      signInErrorsCheck(error.response.data.errors, formik);\n    }\n    throw error;\n  }\n};\n\n// регистрация\nexport const signUpProcess = async (newUser, formik) => {\n  try {\n    await axios.post(routes.signUpUrl, newUser);\n    alert('Регистрация прошла успешно'); // eslint-disable-line no-alert\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      checkFieldErrors(error.response.data.errors, formik);\n    }\n    throw error;\n  }\n};\n","import { createAction } from 'redux-actions';\nimport * as api from '../../API/auth';\n\nexport const signUpRequest = createAction('SIGN_UP_REQUEST');\nexport const signUpSuccess = createAction('SIGN_UP_SUCCESS');\nexport const signUpFailure = createAction('SIGN_UP_FAILURE');\n\n// регистрация\nexport const signUp = (newUserData, formik) => async (dispatch) => {\n  dispatch(signUpRequest());\n  try {\n    await api.signUpProcess(newUserData, formik);\n    dispatch(signUpSuccess());\n  } catch (err) {\n    dispatch(signUpFailure());\n  }\n};\n\nexport const signInRequest = createAction('LOG_IN_REQUEST');\nexport const signInSuccess = createAction('LOG_IN_SUCCESS');\nexport const signInFailure = createAction('LOG_IN_FAILURE');\n\n// авторизация\nexport const signIn = (userData, formik) => async (dispatch) => {\n  dispatch(signInRequest());\n  try {\n    const responseUserData = await api.signInProcess(userData, formik);\n    dispatch(signInSuccess(responseUserData));\n  } catch (err) {\n    dispatch(signInFailure());\n  }\n};\n\nexport const logOutSuccess = createAction('LOGOUT_SUCCESS');\n","export const mainUrl = '/';\n\nexport const signInUrl = '/sign-in';\n\nexport const signUpUrl = '/sign-up';\n\nexport const editProfileUrl = '/edit-profile';\n\nexport const createArticleUrl = '/create-article';\n\nexport const articleUrl = (slug = 'slug') => `/article:${slug}`;\n\nexport const editArticleUrl = (slug = 'slug') => `/edit-article:${slug}`;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signInUrl } from '../routes';\n\nconst PrivateRoute = (props) => {\n  const { children, isAuthorized, ...rest } = props;\n\n  return (\n    <Route\n      {...rest}\n      render={() => (isAuthorized ? children : <Redirect to={signInUrl} />)}\n    />\n  );\n};\n\nexport default connect((state) => ({\n  isAuthorized: state.userData.isAuthorized,\n}), null)(PrivateRoute);\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { mainUrl } from '../routes';\n\nconst AuthRoute = (props) => {\n  const { children, isAuthorized, ...rest } = props;\n\n  return (\n    <Route\n      {...rest}\n      render={() => (isAuthorized ? <Redirect to={mainUrl} /> : children)}\n    />\n  );\n};\n\nexport default connect((state) => ({\n  isAuthorized: state.userData.isAuthorized,\n}), null)(AuthRoute);\n","import styled from 'styled-components';\n\nconst defaultButtonStyles = `\n  font-size: 14px;\n  padding: 4px 16px;\n  color: #F5222D;\n  border: 1px solid #F5222D;\n  border-radius: 5px;\n  background-color: white;\n  font-weight: 500;\n`;\n\n/* app.js main styles */\nexport const MainWrapper = styled.div`\n  background-color: #E5E5E5;\n`;\n\nexport const ContentHeader = styled.header`\n  \n`;\n\nexport const ContentWrapper = styled.div`\n  min-height: calc(100vh - 80px);\n  display: flex;\n  justify-content: center;\n`;\n\nexport const ContentBody = styled.div`\n  background-color: #E5E5E5;\n  margin: 24px 24px;\n  max-width: 941px;\n  width: 100%;\n  word-break: break-all;\n`;\n\nexport const ContentAuth = styled.div`\n  margin: 60px 24px;\n  padding: 48px 32px;\n  background: #FFFFFF;\n  border: 1px solid #D9D9D9;\n  box-sizing: border-box;\n  box-shadow: 0px 0.608796px 2.93329px rgba(0, 0, 0, 0.0196802),\n              0px 1.46302px 7.04911px rgba(0, 0, 0, 0.0282725), \n              0px 2.75474px 13.2728px rgba(0, 0, 0, 0.035), \n              0px 4.91399px 23.6765px rgba(0, 0, 0, 0.0417275), \n              0px 9.19107px 44.2843px rgba(0, 0, 0, 0.0503198), \n              0px 22px 106px rgba(0, 0, 0, 0.07);\n  border-radius: 6px;\n  max-width: 100%;\n  width: 384px;\n  height: min-content;\n`;\n/* app.js main styles */\n\n/* articles styles */\nexport const ArticlesWrapper = styled.div`\n  \n`;\n\nexport const ArticlesItemsWrapper = styled.div`\n  background: #E5E5E5;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const ArticlesItem = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  \n  background-color: #FFFFFF;\n  padding: 16px;\n  margin-bottom: 20px;\n  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);\n  border-radius: 6px;\n  min-height: 14vh;\n  \n  @media only screen and (max-width: 320px) {\n    flex-direction: column;\n  }\n`;\n\nexport const ArticleWrapper = styled.div`\n  background-color: #FFFFFF;\n  padding: 16px;\n  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);\n  \n`;\n\nexport const ArticleHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 20px;\n`;\n\nexport const ArticleBody = styled.div`\n  word-break: break-all;\n  min-height: 60vh;\n`;\n\nexport const ArticlesInfo = styled.div`\n  display: flex;\n  flex-grow: 1;\n  overflow: hidden;\n  flex-direction: column;\n  flex-basis: 70%;\n  margin-right: 16px;\n  \n  & > div, & > p {\n    flex-basis: 100%;\n  }\n  \n  @media only screen and (max-width: 320px) {\n    justify-content: center;\n    text-align: center;\n  }\n`;\n\nexport const ArticlesHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  \n  @media only screen and (max-width: 320px) {\n    justify-content: center;\n  }\n`;\n\nexport const ArticlesHeaderTitle = styled.div`\n  color: #1890FF;\n  font-size: 20px;\n`;\n\nexport const ArticlesStats = styled.div`\n  \n`;\n\nexport const ArticlesLikeImg = styled.img`\n  width: 16px;\n  height: 16px;\n  margin: 0 0 0 8px;\n  cursor: pointer;\n`;\n\nexport const ArticlesLikesCount = styled.span`\n  margin: 0 0 0 4px;\n`;\n\nexport const ArticlesUserInfoWrap = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  \n  @media only screen and (max-width: 320px) {\n    order: -1;\n    justify-content: center;\n  }\n`;\n\nexport const ArticleUserInfoWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n`;\n\nexport const ArticlesUserInfo = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const ArticlesTagsWrap = styled.div``;\n\nexport const ArticlesTag = styled.span`\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  border-radius: 2px;\n  padding: 0 4px;\n  \n  &:not(:first-child) {\n    margin: 0 0 0 8px;\n  }\n`;\n\nexport const ArticlesDescription = styled.p`\n  font-size: 12px;\n  margin: 0;\n`;\n\nexport const ArticlesUserInfoGroup = styled.div`\n  margin: 0px 16px 0px 0px;\n  text-align: center;\n`;\n\nexport const ArticleAuthorOptions = styled.div`\n  margin: 8px 0 0 0;\n`;\n\nexport const ArticleDeleteButton = styled.button`\n  font-size: 14px;\n  padding: 4px 16px;\n  color: #F5222D;\n  border: 1px solid #F5222D;\n  border-radius: 5px;\n  background-color: white;\n  font-weight: 500;\n\n  outline: none;\n  position: relative;\n  cursor: pointer;\n  z-index: 0;\n\n\n  &:before {\n      content: '';\n      background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);\n      position: absolute;\n      top: -2px;\n      left:-2px;\n      background-size: 400%;\n      z-index: -1;\n      filter: blur(5px);\n      width: calc(100% + 4px);\n      height: calc(100% + 4px);\n      animation: glowing 20s linear infinite;\n      opacity: 0;\n      transition: opacity .3s ease-in-out;\n      border-radius: 10px;\n  }\n  \n  &:active {\n      color: #000\n  }\n  \n  &:active:after {\n      background: transparent;\n  }\n  \n  &:hover:before {\n      opacity: 1;\n  }\n  \n  &:after {\n      z-index: -1;\n      content: '';\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background: white;\n      left: 0;\n      top: 0;\n      border-radius: 10px;\n  }\n  \n  @keyframes glowing {\n      0% { background-position: 0 0; }\n      50% { background-position: 400% 0; }\n      100% { background-position: 0 0; }\n  }\n`;\n\nexport const ArticleEditButton = styled.button`\n  font-size: 14px;\n  padding: 4px 16px;\n  color: #52C41A;;\n  border: 1px solid #52C41A;;\n  border-radius: 5px;\n  background-color: white;\n  font-weight: 500;\n  margin: 0 0 0 16px;\n  \n  outline: none;\n  position: relative;\n  cursor: pointer;\n  z-index: 0;\n\n  &:before {\n      content: '';\n      background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);\n      position: absolute;\n      top: -2px;\n      left:-2px;\n      background-size: 400%;\n      z-index: -1;\n      filter: blur(5px);\n      width: calc(100% + 4px);\n      height: calc(100% + 4px);\n      animation: glowing 20s linear infinite;\n      opacity: 0;\n      transition: opacity .3s ease-in-out;\n      border-radius: 10px;\n  }\n  \n  &:active {\n      color: #000\n  }\n  \n  &:active:after {\n      background: transparent;\n  }\n  \n  &:hover:before {\n      opacity: 1;\n  }\n  \n  &:after {\n      z-index: -1;\n      content: '';\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background: white;\n      left: 0;\n      top: 0;\n      border-radius: 10px;\n  }\n  \n  @keyframes glowing {\n      0% { background-position: 0 0; }\n      50% { background-position: 400% 0; }\n      100% { background-position: 0 0; }\n  }\n`;\n\nexport const ArticlesUsername = styled.p`\n  margin: 0;\n  font-size: 18px;\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  \n`;\n\nexport const ArticlesDate = styled.p`\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 12px;\n  margin: 0;\n`;\n\nexport const ArticlesUserImage = styled.img`\n  height: 46px;\n  width: 46px;\n  border-radius: 50%;\n`;\n\nexport const PaginationWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  background-color: #E5E5E5;\n  margin: 16px 0 0 0;\n`;\n/* articles styles */\n\n/* form styles */\nexport const FormSignInWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const Form = styled.form`\n  max-width: 384px;\n`;\n\nexport const FormTitle = styled.div`\n  text-align: center;\n  color: #262626;\n  font-size: 20px;\n  margin: 0 0 16px 0;\n  font-weight: 500;\n`;\n\nexport const FormItem = styled.label`\n  color: #262626;\n  font-size: 14px;\n  font-weight: normal;\n  margin: 0 0 16px 0;\n  display: flex;\n  flex-direction: column;\n  \n  &:last-of-type {\n    margin-bottom: 8px;\n  }\n`;\n\nexport const FormSignUpLink = styled.div`\n  color: #8C8C8C;\n  font-size: 12px;\n  text-align: center;\n`;\n\nexport const FormSignInLink = styled.div`\n  color: #8C8C8C;\n  font-size: 12px;\n  text-align: center;\n`;\n\nexport const FormItemError = styled.div`\n  color: #F5222D;\n  font-size: 14px;\n`;\n\nexport const FormCheckboxWrap = styled.div`\n  border-top: 1px solid #E8E8E8;\n  padding-top: 8px;\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const FormCheckboxTitle = styled.label`\n  margin: 0 0 0 8px;\n`;\n\nexport const FormSubmitButtonStyles = {\n  height: 40,\n};\n\n/* FormArticle */\n\nexport const FormArticle = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  background-color: white;\n  padding: 48px 32px;\n  min-height: 642px;\n`;\n\nexport const FormItemTagsWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  margin-bottom: 16px;\n`;\n\nexport const FormAddTagButton = styled.button`\n  padding: 4px 16px;\n  font-size: 16px;\n  border-radius: 4px;\n  margin: 0 0 0 16px;\n  background-color: #FFFFFF;\n  color: #1890FF;\n  border: 1px solid #1890FF;\n  width: 100px;\n  \n  &:hover {\n    opacity: 0.7;\n  }\n`;\n\nexport const FormRemoveTagButton = styled.button`\n  padding: 4px 16px;\n  width: 100px;\n  font-size: 16px;\n  border-radius: 4px;\n  margin: 0 0 0 16px;\n  background-color: #FFFFFF;\n  color: #F5222D;\n  border: 1px solid #F5222D;\n  \n  &:hover {\n    opacity: 0.7;\n  }\n`;\n\nexport const FormItemTagsTitle = styled.span`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nexport const FormItemTag = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  margin: 0 0 10px 0;\n`;\n\nexport const LoaderWrapper = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  text-align: center;\n`;\n\nexport const HeaderWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  height: 80px;\n  font-size: 18px;\n  align-items: center;\n  padding: 0px 20px;\n  background-color: #FFFFFF;\n  \n  @media screen and (max-width: 598px) {\n    min-height: 80px;\n    height: auto;\n  }\n`;\n\nexport const HeaderIsAuth = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: relative;\n  \n  & > *:not(:last-child):not(:nth-child(2)) {\n    margin-right: 24px;\n  }\n  \n  & > div:nth-child(2) {\n    padding: 6px 8px 0 0;\n  }\n  \n  @media screen and (max-width: 564px) {\n    flex-wrap: wrap;\n  }\n`;\n\nexport const HeaderUsername = styled.span`\n  color: #262626;\n  font-size: 20px;\n  font-weight: 500;\n  padding: 4px 8px 0 0;\n`;\n\nexport const HeaderIsNotAuth = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nexport const HeaderSignIn = styled.div`\n  margin-right: 32px;\n  text-decoration: none;\n  color: rgba(0, 0, 0, 0.85);\n`;\n\nexport const HeaderSignUp = styled.button`\n  ${defaultButtonStyles}\n  border: 1px solid #52C41A;\n  box-sizing: border-box;\n  padding: 8px 16px;\n  border-radius: 5;\n  color: #52C41A;\n  text-decoration: none;\n`;\n\nexport const HeaderCreateArticle = styled.button`\n  ${defaultButtonStyles}\n  border: 1px solid #52C41A;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  font-size: 14px;\n  color: #52C41A;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  \n  & > a {\n    color: #52C41A;\n  }\n`;\n\nexport const HeaderLogOut = styled.button`\n  ${defaultButtonStyles};\n  border: 1px solid rgba(0, 0, 0, 0.75);\n  box-sizing: border-box;\n  font-size: 18px;\n  color: rgba(0, 0, 0, 0.75);\n  padding: 8px 16px;\n  \n  & > a {\n    color: rgba(0,0,0,0.75);\n  }\n  @media screen and (max-width: 598px) {\n    margin: 8px 0px;\n  }\n`;\n\nexport const HeaderEditProfile = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin: 0 16px 0 0;\n  \n  @media screen and (max-width: 598px) {\n    \n    order: -1;\n  }\n`;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport propTypes from 'prop-types';\nimport {\n  signInUrl, signUpUrl, mainUrl, createArticleUrl, editProfileUrl,\n} from '../../routes';\nimport {\n  ArticlesUserImage, HeaderWrapper, HeaderIsAuth, HeaderUsername, HeaderIsNotAuth,\n  HeaderSignIn, HeaderSignUp, HeaderCreateArticle, HeaderLogOut,\n  HeaderEditProfile,\n} from '../../styled-components';\nimport userDefaultImgUrl from '../../images/user-default-img.svg';\nimport { logOutSuccess as logOutProcess } from '../../redux/actions/auth';\n\nconst mapStateToProps = (state) => {\n  const { isAuthorized, username, userProfileImage } = state.userData;\n  return {\n    isAuthorized,\n    username,\n    userProfileImage: (userProfileImage === undefined) ? userDefaultImgUrl : userProfileImage,\n  };\n};\n\nconst actionCreator = {\n  logOutSuccess: logOutProcess,\n};\n\nconst Header = (props) => {\n  const {\n    isAuthorized, username, userProfileImage, logOutSuccess,\n  } = props;\n\n  const handleOnLogOut = () => {\n    logOutSuccess();\n  };\n\n  const renderHeaderMenu = () => {\n    // рендер если пользователь авторизирован\n    if (isAuthorized) {\n      return (\n        <HeaderIsAuth>\n          <HeaderCreateArticle>\n            <NavLink to={createArticleUrl}>\n              Create article\n            </NavLink>\n          </HeaderCreateArticle>\n\n          <HeaderEditProfile>\n            <NavLink to={editProfileUrl}>\n              <HeaderUsername>{username}</HeaderUsername>\n              <ArticlesUserImage src={userProfileImage} />\n            </NavLink>\n          </HeaderEditProfile>\n\n          <HeaderLogOut onClick={handleOnLogOut}>\n            <NavLink to={signUpUrl}>\n              Log Out\n            </NavLink>\n          </HeaderLogOut>\n        </HeaderIsAuth>\n      );\n    }\n\n    // рендер если пользователь неавторизирован\n    return (\n      <HeaderIsNotAuth>\n        <NavLink to={signInUrl}>\n          <HeaderSignIn>Sign In</HeaderSignIn>\n        </NavLink>\n        <NavLink to={signUpUrl}>\n          <HeaderSignUp>Sign Up</HeaderSignUp>\n        </NavLink>\n      </HeaderIsNotAuth>\n    );\n  };\n\n  return (\n    <HeaderWrapper>\n      <NavLink to={mainUrl}>\n        <HeaderSignIn>Realworld Blog</HeaderSignIn>\n      </NavLink>\n      {renderHeaderMenu()}\n    </HeaderWrapper>\n  );\n};\n\nHeader.propTypes = {\n  isAuthorized: propTypes.bool,\n  username: propTypes.string,\n  userProfileImage: propTypes.string,\n  logOutSuccess: propTypes.func,\n};\n\nHeader.defaultProps = {\n  isAuthorized: false,\n  username: null,\n  userProfileImage: null,\n  logOutSuccess: null,\n};\n\nexport default connect(mapStateToProps, actionCreator)(Header);\n","import React from 'react';\nimport { formatDistanceToNow } from 'date-fns';\nimport Loader from 'react-loader-spinner';\nimport { FormItemError, LoaderWrapper } from './styled-components';\n\nexport const renderLoader = () => (\n  <LoaderWrapper>\n    <Loader type=\"Oval\" color=\"rgb(82, 196, 26)\" height={200} width={200} />\n  </LoaderWrapper>\n);\n\nexport const renderErrorMessage = (formik, fieldName) => (\n  formik.touched[fieldName] && formik.errors[fieldName] ? (\n    <FormItemError>{formik.errors[fieldName]}</FormItemError>\n  ) : null\n);\n\nexport const getDate = (createdAt) => (\n  `${formatDistanceToNow(new Date(createdAt))} ago`\n);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { Button, Input } from 'antd';\nimport { Link } from 'react-router-dom';\nimport propTypes from 'prop-types';\nimport { EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport { useHistory } from 'react-router';\nimport {\n  FormItem,\n  Form,\n  FormTitle,\n  FormSubmitButtonStyles,\n  FormSignUpLink,\n  FormSignInWrapper,\n} from '../../styled-components';\nimport { signIn as signInProcess } from '../../redux/actions/auth';\nimport { signUpUrl, mainUrl } from '../../routes';\nimport { renderErrorMessage } from '../../helper';\n\nconst formikInitialValues = {\n  email: '',\n  password: '',\n};\n\nconst mapStateToProps = (state) => {\n  const { signInState, userData } = state;\n  const { isAuthorized } = userData;\n  const isInputsDisable = (signInState === 'requested');\n\n  return { isInputsDisable, isAuthorized };\n};\n\nconst actionCreators = {\n  signIn: signInProcess,\n};\n\nconst SignIn = (props) => {\n  const { isInputsDisable, signIn, isAuthorized } = props;\n\n  const history = useHistory();\n  const redirectToHome = () => {\n    history.push(mainUrl);\n  };\n\n  const handleOnAuthorizationUser = (formik) => {\n    const { email, password } = formik.values;\n    const userData = {\n      user: {\n        email,\n        password,\n      },\n    };\n    signIn(userData, formik);\n  };\n\n  const formik = useFormik({\n    initialValues: formikInitialValues,\n    onSubmit: () => {\n      handleOnAuthorizationUser(formik);\n    },\n  });\n\n  useEffect(() => {\n    if (isAuthorized) redirectToHome();\n  }, [isAuthorized]);\n\n  return (\n    <FormSignInWrapper>\n      <Form onSubmit={formik.handleSubmit}>\n        <FormTitle>Sign In</FormTitle>\n        <FormItem htmlFor=\"email\">\n          Email address:\n          <Input\n            placeholder=\"Email address\"\n            id=\"email\"\n            name=\"email\"\n            onChange={formik.handleChange}\n            value={formik.values.email}\n            disabled={isInputsDisable}\n          />\n          {renderErrorMessage(formik, 'email')}\n        </FormItem>\n\n        <FormItem htmlFor=\"password\">\n          Password:\n          <Input.Password\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            onChange={formik.handleChange}\n            value={formik.values.password}\n            iconRender={(visible) => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\n            disabled={isInputsDisable}\n          />\n          {renderErrorMessage(formik, 'password')}\n        </FormItem>\n\n        <FormItem>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"form-submit\"\n            onClick={formik.handleSubmit}\n            style={FormSubmitButtonStyles}\n            disabled={isInputsDisable}\n          >\n            Войти\n          </Button>\n        </FormItem>\n        <FormSignUpLink>\n          <span>Don&apos;t have account?</span>\n          <Link to={signUpUrl}> Sign Up.</Link>\n        </FormSignUpLink>\n      </Form>\n    </FormSignInWrapper>\n\n  );\n};\n\nSignIn.propTypes = {\n  signIn: propTypes.func,\n  isInputsDisable: propTypes.bool,\n  isAuthorized: propTypes.bool,\n};\n\nSignIn.defaultProps = {\n  signIn: null,\n  isInputsDisable: false,\n  isAuthorized: false,\n};\n\nexport default connect(mapStateToProps, actionCreators)(SignIn);\n","import React, { useEffect } from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { Button, Input, Checkbox } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport { useHistory } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { signInUrl } from '../../routes';\nimport 'antd/dist/antd.css';\nimport { signUp as signUpProcess } from '../../redux/actions/auth';\nimport {\n  FormItem,\n  Form,\n  FormCheckboxWrap,\n  FormCheckboxTitle,\n  FormSignInLink,\n  FormTitle,\n  FormSubmitButtonStyles,\n} from '../../styled-components';\nimport { renderErrorMessage } from '../../helper';\n\nconst formikInicialValues = {\n  username: '',\n  email: '',\n  password: '',\n  repeatPassword: '',\n  acceptTerms: false,\n};\n\nconst formItems = [\n  {\n    id: uniqueId(), title: 'Username', name: 'username', placeholder: 'Username', type: 'text',\n  },\n  {\n    id: uniqueId(), title: 'Email address', name: 'email', placeholder: 'Email', type: 'text',\n  },\n  {\n    id: uniqueId(), title: 'Password', name: 'password', placeholder: 'Password', type: 'password',\n  },\n  {\n    id: uniqueId(), title: 'Repeat Password', name: 'repeatPassword', placeholder: 'Repeat password', type: 'password',\n  },\n];\n\nconst formikValidationSchema = Yup.object({\n  username: Yup.string()\n    .max(30, 'Your username should be no more than 30 characters!')\n    .required('required'),\n  email: Yup.string()\n    .email('Invalid email')\n    .required('required'),\n  password: Yup.string()\n    .min(8, 'Your password need to be at least 6 characters.')\n    .max(50, 'Your password should be no more than 50 characters.')\n    .matches(/^[A-Za-z0-9]+$/, 'Password can be only with latin symbols and numbers')\n    .matches(/(?=.*[0-9])/, 'Your password need to be at least 1 number')\n    .matches(/(?=.*[A-Z])/, 'Your password need to be at least 1 uppercase symbol')\n    .required('required'),\n  repeatPassword: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Passwords must match')\n    .required('required'),\n  acceptTerms: Yup.bool()\n    .oneOf([true])\n    .required('You should accept terms'),\n});\n\nconst mapStateToProps = (state) => {\n  const { signUpState } = state;\n  const isInputsDisable = (signUpState === 'requested');\n  const isUserRegistered = (signUpState === 'finished');\n\n  return { isInputsDisable, signUpState, isUserRegistered };\n};\n\nconst actionCreators = {\n  signUp: signUpProcess,\n};\n\nconst SignUp = (props) => {\n  const { isUserRegistered, isInputsDisable, signUp } = props;\n\n  const history = useHistory();\n  const redirectToSignIn = () => {\n    history.push(signInUrl);\n  };\n\n  const handleOnSignUp = async (formik) => {\n    const { username, email, password } = formik.values;\n    const newUser = {\n      user: {\n        username,\n        email,\n        password,\n      },\n    };\n    signUp(newUser, formik);\n  };\n\n  const formik = useFormik({\n    initialValues: formikInicialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: () => {\n      handleOnSignUp(formik);\n    },\n  });\n\n  const renderInputs = () => (\n    formItems.map((formItem) => (\n      <FormItem key={formItem.id} htmlFor={formItem.name}>\n        {formItem.title}\n        <Input\n          type={formItem.type}\n          placeholder={formItem.placeholder}\n          id={formItem.name}\n          name={formItem.name}\n          onChange={formik.handleChange}\n          value={formik.values[formItem.name]}\n          disabled={isInputsDisable}\n        />\n        {renderErrorMessage(formik, formItem.name)}\n      </FormItem>\n    ))\n  );\n\n  useEffect(() => {\n    if (isUserRegistered) redirectToSignIn();\n  }, [isUserRegistered]);\n\n  return (\n    <Form onSubmit={formik.handleSubmit}>\n      <FormTitle>Create new account</FormTitle>\n\n      {renderInputs()}\n\n      <FormItem>\n        <FormCheckboxWrap>\n          <Checkbox\n            id=\"acceptTerms\"\n            name=\"acceptTerms\"\n            checked={formik.values.acceptTerms}\n            onChange={formik.handleChange}\n            disabled={isInputsDisable}\n          />\n          <FormCheckboxTitle\n            htmlFor=\"acceptTerms\"\n          >\n            I agree to the processing of my personal information\n          </FormCheckboxTitle>\n        </FormCheckboxWrap>\n        {renderErrorMessage(formik, 'acceptTerms')}\n      </FormItem>\n\n      <FormItem>\n        <Button\n          htmlType=\"submit\"\n          type=\"primary\"\n          onClick={formik.handleSubmit}\n          disabled={isInputsDisable}\n          style={FormSubmitButtonStyles}\n        >\n          Create\n        </Button>\n      </FormItem>\n\n      <FormSignInLink>\n        <span>Already have account?</span>\n        <Link to={signInUrl}> Sign In.</Link>\n      </FormSignInLink>\n    </Form>\n  );\n};\n\nSignUp.propTypes = {\n  signUp: propTypes.func,\n  isInputsDisable: propTypes.bool,\n  isUserRegistered: propTypes.bool,\n};\n\nSignUp.defaultProps = {\n  signUp: null,\n  isInputsDisable: false,\n  isUserRegistered: false,\n};\n\nexport default connect(mapStateToProps, actionCreators)(SignUp);\n","import axios from 'axios';\nimport * as routes from './routes';\nimport { checkFieldErrors, mainRequestHandler, networkErrorCheck } from './index';\n\naxios.interceptors.request.use(\n  (req) => mainRequestHandler(req),\n);\n\n// редактирование профиля пользователя\n// eslint-disable-next-line import/prefer-default-export\nexport const editUserProfile = async (userData, formik) => {\n  try {\n    const response = await axios.put(routes.userProfileUrl, userData);\n\n    const { user } = response.data;\n    return {\n      username: user.username,\n      userProfileImage: user.image,\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      checkFieldErrors(error.response.data.errors, formik);\n    }\n    throw error;\n  }\n};\n","import { createAction } from 'redux-actions';\nimport * as api from '../../API/user';\n\n// изменить профиль пользователя\nexport const editUserProfileRequest = createAction('EDIT_USER_PROFILE_REQUEST');\nexport const editUserProfileSuccess = createAction('EDIT_USER_PROFILE_SUCCESS');\nexport const editUserProfileFailure = createAction('EDIT_USER_PROFILE_FAILURE');\n\nexport const editUserProfile = (userData, formik) => async (dispatch) => {\n  dispatch(editUserProfileRequest());\n  try {\n    const response = await api.editUserProfile(userData, formik);\n    dispatch(editUserProfileSuccess(response));\n  } catch (error) {\n    dispatch(editUserProfileFailure());\n    throw error;\n  }\n};\n","import React from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { Button, Input } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport 'antd/dist/antd.css';\nimport * as actions from '../../redux/actions/user';\n\nimport {\n  Form, FormTitle, FormItem, FormSubmitButtonStyles,\n} from '../../styled-components';\nimport { renderErrorMessage } from '../../helper';\n\nconst formikInicialValues = {\n  username: '',\n  email: '',\n  image: '',\n};\n\nconst formItems = [\n  {\n    id: uniqueId(), title: 'Username', name: 'username', placeholder: 'Username',\n  },\n  {\n    id: uniqueId(), title: 'Email address', name: 'email', placeholder: 'Email',\n  },\n  {\n    id: uniqueId(), title: 'Avatar image (url)', name: 'image', placeholder: 'url',\n  },\n];\n\nconst formikValidationSchema = Yup.object({\n  username: Yup.string()\n    .max(30, 'Your username should be no more than 30 characters!')\n    .required('required'),\n  email: Yup.string()\n    .email('Invalid email')\n    .required('required'),\n  image: Yup.string()\n    .url('Not correct url')\n    .required('required'),\n});\n\nconst mapStateToProps = (state) => ({ isInputsDisable: state.editUserProfileState === 'requested' });\n\nconst actionCreator = {\n  editUserProfile: actions.editUserProfile,\n};\n\nconst EditProfile = (props) => {\n  const { isInputsDisable, editUserProfile } = props;\n\n  const handleOnEditUserProfile = (formik) => {\n    const { username, email, image } = formik.values;\n\n    const userData = {\n      user: {\n        username, email, image,\n      },\n    };\n    editUserProfile(userData, formik);\n  };\n\n  const formik = useFormik({\n    initialValues: formikInicialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: () => {\n      handleOnEditUserProfile(formik);\n    },\n  });\n\n  const renderInputs = () => (\n    formItems.map((formItem) => (\n      <FormItem key={formItem.id} htmlFor={formItem.name}>\n        {formItem.title}\n        <Input\n          type=\"text\"\n          placeholder={formItem.placeholder}\n          id={formItem.name}\n          name={formItem.name}\n          onChange={formik.handleChange}\n          value={formik.values[formItem.name]}\n          disabled={isInputsDisable}\n        />\n        {renderErrorMessage(formik, formItem.name)}\n      </FormItem>\n    ))\n  );\n\n  return (\n    <Form onSubmit={formik.handleSubmit}>\n      <FormTitle>Edit Profile</FormTitle>\n\n      {renderInputs()}\n\n      <FormItem>\n        <Button\n          htmlType=\"submit\"\n          type=\"primary\"\n          onClick={formik.handleSubmit}\n          disabled={isInputsDisable}\n          style={FormSubmitButtonStyles}\n        >\n          Save\n        </Button>\n      </FormItem>\n    </Form>\n  );\n};\n\nEditProfile.propTypes = {\n  isInputsDisable: propTypes.bool,\n  editUserProfile: propTypes.func,\n};\n\nEditProfile.defaultProps = {\n  isInputsDisable: false,\n  editUserProfile: null,\n};\n\nexport default connect(mapStateToProps, actionCreator)(EditProfile);\n","import axios from 'axios';\nimport { uniqueId } from 'lodash';\nimport * as routes from './routes';\nimport { checkFieldErrors, networkErrorCheck, mainRequestHandler } from './index';\n\naxios.interceptors.request.use(\n  (req) => mainRequestHandler(req),\n);\n\n// получаем список статей частями (подробнее см. redux/actions/articles getArticles)\nexport const getArticles = async (articlesPerRequest, articlesCounter) => {\n  // counter увеличивается на кол-во полученных статей после каждого вызова функции из экшена\n  const localRequestHandler = (req) => {\n    req.params = { limit: articlesPerRequest, offset: articlesCounter };\n    return req;\n  };\n\n  // инициализируем чтобы удалить после запроса\n  const requestInterceptor = axios.interceptors.request.use(\n    (req) => localRequestHandler(req),\n  );\n\n  try {\n    const response = await axios.get(routes.articlesUrl);\n\n    const { articles, articlesCount } = response.data;\n\n    const initialArticlesById = articles.map((el) => ({\n      ...el,\n      id: uniqueId(),\n      tagList: el.tagList.map((tagName) => ({ id: uniqueId(), title: tagName })),\n    }));\n    const articlesArray = [...initialArticlesById];\n\n    // удаляем интерцептор\n    axios.interceptors.request.eject(requestInterceptor);\n\n    return {\n      articles: articlesArray,\n      articlesCount,\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n    throw error;\n  }\n};\n\n// создание поста\nexport const createArticle = async (articleBody, formik) => {\n  try {\n    const response = await axios.post(routes.articlesUrl, articleBody);\n\n    const { article } = response.data;\n\n    return {\n      ...article,\n      id: uniqueId(),\n      tagList: article.tagList.map((tagName) => ({ id: uniqueId(), title: tagName })),\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      checkFieldErrors(error.response.data.errors, formik);\n    }\n    throw error;\n  }\n};\n\n// запрос 1 поста\n// eslint-disable-next-line consistent-return\nexport const getOneArticle = async (queryParam) => {\n  try {\n    const url = routes.oneArticleUrl(queryParam);\n    const response = await axios.get(url);\n\n    const { article } = response.data;\n\n    return {\n      ...article,\n      id: uniqueId(),\n      tagList: article.tagList.map((tagName) => ({ id: uniqueId(), title: tagName })),\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n  }\n};\n\n// изменить пост\nexport const editArticle = async (articleBody, queryParam, formik) => {\n  try {\n    const url = routes.oneArticleUrl(queryParam);\n    await axios.put(url, articleBody);\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      checkFieldErrors(error.response.data.errors, formik);\n    }\n  }\n};\n\n// лайкнуть пост\n// eslint-disable-next-line consistent-return\nexport const addLike = async (likeBody) => {\n  const { id, slug, favorited } = likeBody;\n  try {\n    // лайк или дизлайк в зависимости от текущего состояния\n    const response = (favorited === true)\n      ? await axios.delete(routes.changeLikeUrl(slug))\n      : await axios.post(routes.changeLikeUrl(slug));\n\n    return {\n      isFavorited: response.data.article.favorited,\n      id,\n    };\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error.response);\n  }\n};\n\n// удалить пост\nexport const removeArticle = async (queryParam) => {\n  const url = routes.oneArticleUrl(queryParam);\n  await axios.delete(url);\n};\n","import { createAction } from 'redux-actions';\nimport * as api from '../../API/articles';\n\nexport const getArticlesProcess = createAction('GET_ARTICLES_PROCESS');\nexport const getArticlesSuccess = createAction('GET_ARTICLES_SUCCESS');\n// при запросе на сервер статьи возвращаются пачками размером articlesPerRequest\n// в ответе приходит { articles: [], articlesCount: value }\n// массив articles диспатчим, чтобы не ждать от сервера все статьи(вдруг их тысячи)\n// Каждую итерацию сравниваем уже полученное число статей и кол-во на сервере\n// если на сервере статьи еще есть, то на фоне делаем запросы для их получения\nexport const getArticles = () => async (dispatch) => {\n  let currentArticlesCounter = 0;\n\n  const fetchArticles = async (articlesPerRequest = 100, counter = 0) => {\n    const response = await api.getArticles(articlesPerRequest, counter);\n    const { articles, articlesCount } = response;\n    dispatch(getArticlesProcess(articles));\n\n    currentArticlesCounter += articles.length;\n    if (currentArticlesCounter < articlesCount) {\n      await fetchArticles(articlesPerRequest, currentArticlesCounter);\n    }\n    if (currentArticlesCounter === articlesCount) {\n      dispatch(getArticlesSuccess());\n    }\n  };\n  await fetchArticles();\n};\n\n// создать пост\nexport const createArticleRequest = createAction('CREATE_ARTICLE_REQUEST');\nexport const createArticleSuccess = createAction('CREATE_ARTICLE_SUCCESS');\nexport const createArticleFailure = createAction('CREATE_ARTICLE_FAILURE');\n\nexport const createArticle = (articleBody, formik) => async (dispatch) => {\n  dispatch(createArticleRequest());\n  try {\n    await api.createArticle(articleBody, formik);\n    dispatch(createArticleSuccess());\n  } catch (error) {\n    dispatch(createArticleFailure());\n  }\n};\n\n// запросить 1 пост\n// этот экшен нужен, чтобы загрузить пост просматриваемый пользователем\n// если он вбивает ссылку на пост в адресной строке\nexport const getOneArticleRequest = createAction('GET_ONE_ARTICLE_REQUEST');\nexport const getOneArticleSuccess = createAction('GET_ONE_ARTICLE_SUCCESS');\nexport const getOneArticleFailure = createAction('GET_ONE_ARTICLE_FAILURE');\n\nexport const getOneArticle = (queryParam) => async (dispatch) => {\n  dispatch(getOneArticleRequest());\n  try {\n    const response = await api.getOneArticle(queryParam);\n    dispatch(getOneArticleSuccess(response));\n  } catch (error) {\n    dispatch(getOneArticleFailure());\n    throw error;\n  }\n};\n\n// изменить пост\nexport const editArticleRequest = createAction('EDIT_ARTICLE_REQUEST');\nexport const editArticleSuccess = createAction('EDIT_ARTICLE_SUCCESS');\nexport const editArticleFailure = createAction('EDIT_ARTICLE_FAILURE');\n\nexport const editArticle = (articleData, queryParam, formik) => async (dispatch) => {\n  dispatch(editArticleRequest());\n  try {\n    await api.editArticle(articleData, queryParam, formik);\n    dispatch(editArticleSuccess());\n  } catch (error) {\n    dispatch(editArticleFailure);\n    throw error;\n  }\n};\n\n// лайк поста\nexport const addLikeRequest = createAction('ADD_LIKE_REQUEST');\nexport const addLikeSuccess = createAction('ADD_LIKE_SUCCESS');\nexport const addLikeFailure = createAction('ADD_LIKE_FAILURE');\n\nexport const refreshLikeInArticlesArray = createAction('REFRESH_LIKE_IN_ARTICLES_ARRAY');\n\nexport const addLike = (likeBody) => async (dispatch) => {\n  if (!likeBody.isRepeatedRequest) {\n    dispatch(refreshLikeInArticlesArray(likeBody.id));\n  }\n\n  // запрещаем отправку на сервер если лайк уже отправлен\n  if (likeBody.isAlreadyRequested) return;\n  dispatch(addLikeRequest(likeBody.id));\n  try {\n    const response = await api.addLike(likeBody);\n    dispatch(addLikeSuccess(response));\n  } catch (error) {\n    dispatch(addLikeFailure());\n    throw error;\n  }\n};\n\n// удалить пост\nexport const removeArticleRequest = createAction('REMOVE_ARTICLE_REQUEST');\nexport const removeArticleSuccess = createAction('REMOVE_ARTICLE_SUCCESS');\nexport const removeArticleFailure = createAction('REMOVE_ARTICLE_FAILURE');\n\nexport const removeArticle = (queryParam) => async (dispatch) => {\n  dispatch(removeArticleRequest());\n  try {\n    await api.removeArticle(queryParam);\n    dispatch(removeArticleSuccess());\n  } catch (error) {\n    dispatch(removeArticleFailure());\n    throw error;\n  }\n};\n\n// обновить посты после создания нового поста / удаления / редактирования\nexport const refreshArticlesRequest = createAction('REFRESH_ARTICLES_REQUEST');\n\n// обновить список постов\nexport const refreshArticles = () => async (dispatch) => {\n  dispatch(createArticleFailure());\n  dispatch(refreshArticlesRequest());\n  dispatch(editArticleFailure());\n  dispatch(getOneArticleFailure());\n  dispatch(removeArticleFailure());\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { getDate } from '../../helper';\nimport * as actions from '../../redux/actions/articles';\nimport {\n  ArticlesLikeImg, ArticlesDate, ArticlesDescription,\n  ArticlesHeader,\n  ArticlesInfo, ArticlesItem, ArticlesLikesCount,\n  ArticlesStats,\n  ArticlesTag, ArticlesTagsWrap,\n  ArticlesHeaderTitle, ArticlesUserImage,\n  ArticlesUserInfoWrap, ArticlesUserInfoGroup, ArticlesUsername,\n} from '../../styled-components';\nimport { articleUrl } from '../../routes';\nimport activeLikeSrc from '../../images/like-active.svg';\nimport disabledLikeSrc from '../../images/like-disabled.svg';\n\nconst linkStyles = {\n  textDecoration: 'none',\n  color: 'rgba(0, 0, 0, 0.75)',\n};\nconst mapStateToProps = (state) => {\n  const { likesStateOnServer, addLikeRequestState, localLikesStateProcess } = state;\n\n  const isLikeChangedOnServer = localLikesStateProcess === 'finished';\n\n  return { likesStateOnServer, isLikeChangedOnServer, addLikeRequestState };\n};\n\nconst actionCreator = {\n  addLike: actions.addLike,\n};\n\nconst Article = (props) => {\n  const {\n    articles,\n    addLike, addLikeRequestState,\n  } = props;\n\n  /* const repeatChangeLikeRequest = () => {\n    const newLikesState = likesStateOnServer.map((serverLikeState) => {\n      const findEl = articles.find((article) => article.id === serverLikeState.id);\n\n      // объединить фейковые лайки и те которые пришли от сервера в один объект\n      // для удобного сравнения\n      if (findEl) {\n        return {\n          id: findEl.id,\n          slug: findEl.slug,\n          favorited: findEl.favorited,\n          isLikedOnServer: serverLikeState.isFavorited,\n          isRepeatedRequest: true,\n        };\n      }\n      return serverLikeState;\n    });\n\n    const isDiff = newLikesState.some((el) => el.favorited !== el.isLikedOnServer);\n    const likeBody = newLikesState.find((el) => el.favorited !== el.isLikedOnServer);\n\n    console.log(newLikesState);\n    console.log(isDiff);\n    console.log(likeBody);\n    console.log(articles);\n    console.log(likesStateOnServer);\n    if (isDiff === true) {\n      console.log('повторный запрос');\n      addLike(likeBody);\n    }\n  }; */\n\n  /* useEffect(() => {\n    if (isLikeChangedOnServer) repeatChangeLikeRequest();\n  }, [likesStateOnServer]); */\n\n  const handleOnLikeArticle = (event, articleLikeInfo) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const isCurrentLikeRequested = addLikeRequestState.some((el) => el === articleLikeInfo.id);\n    if (isCurrentLikeRequested) {\n      const rejectRequest = { ...articleLikeInfo, isAlreadyRequested: true };\n      // eslint-disable-next-line no-console\n      console.log('отправка запрещена');\n      return addLike(rejectRequest);\n    }\n\n    return addLike(articleLikeInfo);\n  };\n\n  const renderArticle = () => articles.map((article) => {\n    const {\n      author, createdAt, description, id, tagList, title, slug, favorited, favoritesCount,\n    } = article;\n    const { username, image } = author;\n    const dateDiff = getDate(createdAt);\n\n    const renderTagList = () => (\n      tagList.map((tag) => <ArticlesTag key={tag.id}>{tag.title}</ArticlesTag>)\n    );\n\n    const isLiked = favorited ? activeLikeSrc : disabledLikeSrc;\n\n    const articleLikeInfo = {\n      id,\n      favorited,\n      slug,\n      isAlreadyRequested: false,\n      isRepeatedRequest: false,\n    };\n\n    /*\n    1) пользователь нажимает на фейк-лайк\n    2) отправляется запрос на сервер с измененным фейк-состоянием\n       если пользователь нажимает на лайк пока запрос идет, то повторный запрос не отправляется\n    3) приходит ответ с изменённым состоянием\n       после ответа проверяем, состояние фейк-лайка такое же как и у обновлённого состояния?\n       если да, то оставляем всё как есть\n       если нет, то снова отправляем запрос на сервер\n      */\n\n    return (\n      <Link to={articleUrl(slug)} style={linkStyles} key={id}>\n        <ArticlesItem>\n          <ArticlesInfo>\n            <ArticlesHeader>\n              <ArticlesHeaderTitle>\n                {title}\n              </ArticlesHeaderTitle>\n              <ArticlesStats>\n                <ArticlesLikeImg\n                  onClick={(event) => handleOnLikeArticle(event, articleLikeInfo)}\n                  src={isLiked}\n                />\n                <ArticlesLikesCount>{favoritesCount}</ArticlesLikesCount>\n              </ArticlesStats>\n            </ArticlesHeader>\n            <ArticlesTagsWrap>\n              {renderTagList()}\n            </ArticlesTagsWrap>\n\n            <ArticlesDescription>\n              {description}\n            </ArticlesDescription>\n          </ArticlesInfo>\n\n          <ArticlesUserInfoWrap>\n            <ArticlesUserInfoGroup>\n              <ArticlesUsername>{username}</ArticlesUsername>\n              <ArticlesDate>{dateDiff}</ArticlesDate>\n            </ArticlesUserInfoGroup>\n            <ArticlesUserImage src={image} />\n          </ArticlesUserInfoWrap>\n        </ArticlesItem>\n      </Link>\n    );\n  });\n\n  return renderArticle();\n};\n\nexport default connect(mapStateToProps, actionCreator)(Article);\n","import React, { useEffect, useState } from 'react';\nimport { Pagination } from 'antd';\nimport { connect } from 'react-redux';\nimport propTypes from 'prop-types';\nimport * as actions from '../../redux/actions/articles';\nimport { renderLoader } from '../../helper';\nimport {\n  ArticlesWrapper,\n  PaginationWrapper,\n  ArticlesItemsWrapper,\n} from '../../styled-components';\nimport Article from './article';\n\nconst mapStateToProps = (state) => {\n  const {\n    articles, getArticlesState, createArticleState, editArticleState, removeArticleState,\n  } = state;\n\n  const props = {\n    articles,\n    isArticlesReady: getArticlesState === 'finished',\n    isRequestProcessed: getArticlesState === 'processed',\n    isNewArticleCreated: createArticleState === 'finished',\n    isArticleEdited: editArticleState === 'finished',\n    isArticleRemoved: removeArticleState === 'finished',\n  };\n\n  return props;\n};\n\nconst actionCreator = {\n  getArticles: actions.getArticles,\n  refreshArticles: actions.refreshArticles,\n};\n\nconst ArticlesList = (props) => {\n  const {\n    getArticles, articles, isArticlesReady, isRequestProcessed,\n    isNewArticleCreated, refreshArticles, isArticleEdited,\n    isArticleRemoved,\n  } = props;\n\n  const [currentPageNumber, setCurrentPageNumber] = useState(1);\n  const [currentPageSize, setPageSize] = useState(5);\n\n  const getArticlesRequest = async () => {\n    await getArticles();\n  };\n\n  const renderArticles = (pageNumber, pageSize) => {\n    const from = pageNumber * pageSize - pageSize;\n    const to = pageNumber * pageSize;\n    // показываем по 5 постов\n    const currentArticlesArray = Array.from(articles).slice(from, to);\n\n    return <Article articles={currentArticlesArray} />;\n  };\n\n  const handleOnChangePagination = (value, pageSize) => {\n    setCurrentPageNumber(value);\n    setPageSize(pageSize);\n  };\n\n  const renderPagination = (total) => (\n    <Pagination\n      size=\"small\"\n      total={total}\n      pageSize={5} // по сколько айтемов на странице показываем\n      showSizeChanger={false}\n      onChange={handleOnChangePagination}\n    />\n  );\n\n  useEffect(() => {\n    // получаем посты пока они есть и убираем дублирование запроса если создан новый пост\n    if (!isArticlesReady && !isNewArticleCreated && !isArticleEdited) {\n      getArticlesRequest();\n    }\n\n    // обновляем посты после создания поста / редактирования / удаления\n    if (isNewArticleCreated || isArticleEdited || isArticleRemoved) refreshArticles();\n  }, [isArticlesReady, isNewArticleCreated, isArticleEdited]);\n\n  return (\n    <ArticlesWrapper>\n      <ArticlesItemsWrapper>\n        {(isRequestProcessed || isArticlesReady)\n          ? renderArticles(currentPageNumber, currentPageSize)\n          : renderLoader()}\n      </ArticlesItemsWrapper>\n\n      <PaginationWrapper>\n        {renderPagination(articles.length)}\n      </PaginationWrapper>\n    </ArticlesWrapper>\n  );\n};\n\nArticlesList.propTypes = {\n  getArticles: propTypes.func,\n  articles: propTypes.arrayOf(propTypes.object),\n  isArticlesReady: propTypes.bool,\n  isRequestProcessed: propTypes.bool,\n  isNewArticleCreated: propTypes.bool,\n  refreshArticles: propTypes.func,\n  isArticleEdited: propTypes.bool,\n  isArticleRemoved: propTypes.bool,\n};\n\nArticlesList.defaultProps = {\n  getArticles: null,\n  articles: [],\n  isArticlesReady: false,\n  isRequestProcessed: false,\n  isNewArticleCreated: false,\n  refreshArticles: null,\n  isArticleEdited: false,\n  isArticleRemoved: false,\n};\n\nexport default connect(mapStateToProps, actionCreator)(ArticlesList);\n","import React, { useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ReactMarkdown from 'react-markdown';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { Modal } from 'antd';\nimport { useHistory } from 'react-router';\nimport * as actions from '../../redux/actions/articles';\nimport { editArticleUrl, mainUrl } from '../../routes';\nimport disabledLikeSrc from '../../images/like-disabled.svg';\nimport activeLikeSrc from '../../images/like-active.svg';\nimport { renderLoader, getDate } from '../../helper';\n\nimport {\n  ArticlesLikeImg, ArticlesDate, ArticlesDescription,\n  ArticlesHeader,\n  ArticlesInfo, ArticlesLikesCount,\n  ArticlesStats, ArticlesTag, ArticlesTagsWrap,\n  ArticlesHeaderTitle, ArticlesUserImage, ArticlesUserInfo, ArticlesUserInfoGroup, ArticlesUsername,\n  ArticleAuthorOptions, ArticleDeleteButton, ArticleEditButton, ArticleUserInfoWrap,\n  ArticleWrapper, ArticleHeader, ArticleBody,\n} from '../../styled-components';\n\nconst mapStateToProps = (state) => {\n  const {\n    articles, userData, oneArticle, oneArticleState, removeArticleState,\n  } = state;\n\n  return {\n    articles,\n    username: userData.username,\n    isOneArticleReady: (oneArticleState === 'finished'),\n    isArticleRemoved: (removeArticleState === 'finished'),\n    oneArticle,\n    removeArticleState,\n  };\n};\n\nconst actionCreator = {\n  getOneArticle: actions.getOneArticle,\n  removeArticle: actions.removeArticle,\n};\n\nconst Article = (props) => {\n  const {\n    articles, username, getOneArticle,\n    oneArticle, isOneArticleReady, removeArticle, isArticleRemoved,\n  } = props;\n  const { slug } = useParams();\n  const validSlug = slug.slice(1, slug.length);\n\n  const history = useHistory();\n  const redirectToHome = () => {\n    history.push(mainUrl);\n  };\n\n  useEffect(() => {\n    // если нету уже загруженного массива постов то получаем один\n    if (articles.length === 0) {\n      getOneArticle(validSlug);\n    }\n    if (isArticleRemoved) {\n      redirectToHome();\n    }\n  }, [isArticleRemoved]);\n\n  const handleOnDeleteArticle = () => {\n    const { confirm } = Modal;\n    confirm({\n      title: 'Are you sure to delete this article?',\n      icon: <ExclamationCircleOutlined />,\n      onOk() {\n        removeArticle(validSlug);\n      },\n    });\n  };\n\n  const renderArticle = (data) => {\n    let article;\n\n    // если пользователь переходит по URL, то грузим нужный article с сервера\n    if (!Array.isArray(data)) {\n      if (!isOneArticleReady) return renderLoader();\n      article = data;\n    }\n\n    // если по ссылке со списка артайклов, то берем из массива нужный\n    if (Array.isArray(data)) {\n      article = data.find((el) => el.slug === validSlug);\n    }\n\n    const {\n      author, createdAt, description, favoritesCount, favorited, tagList, title, body,\n    } = article;\n    const isCurrentUserAuthor = (username === author.username);\n\n    const dateDiff = getDate(createdAt);\n\n    const renderTagList = () => (\n      tagList.map((tag) => <ArticlesTag key={tag.id}>{tag.title}</ArticlesTag>)\n    );\n\n    const renderAuthorOptions = () => {\n      if (!isCurrentUserAuthor) return false;\n      return (\n        <ArticleAuthorOptions>\n          <ArticleDeleteButton onClick={handleOnDeleteArticle}>Delete</ArticleDeleteButton>\n          <Link to={editArticleUrl(validSlug)}>\n            <ArticleEditButton>Edit</ArticleEditButton>\n          </Link>\n        </ArticleAuthorOptions>\n      );\n    };\n\n    return (\n      <ArticleWrapper>\n        <ArticleHeader>\n          <ArticlesInfo>\n            <ArticlesHeader>\n              <ArticlesHeaderTitle>\n                {title}\n              </ArticlesHeaderTitle>\n              <ArticlesStats>\n                <ArticlesLikeImg src={favorited ? activeLikeSrc : disabledLikeSrc} />\n                <ArticlesLikesCount>{favoritesCount}</ArticlesLikesCount>\n              </ArticlesStats>\n            </ArticlesHeader>\n            <ArticlesTagsWrap>\n              {renderTagList()}\n            </ArticlesTagsWrap>\n\n            <ArticlesDescription>\n              {description}\n            </ArticlesDescription>\n          </ArticlesInfo>\n\n          <ArticleUserInfoWrap>\n            <ArticlesUserInfo>\n              <ArticlesUserInfoGroup>\n                <ArticlesUsername>{author.username}</ArticlesUsername>\n                <ArticlesDate>{dateDiff}</ArticlesDate>\n              </ArticlesUserInfoGroup>\n              <ArticlesUserImage src={author.image} />\n            </ArticlesUserInfo>\n            {renderAuthorOptions()}\n          </ArticleUserInfoWrap>\n        </ArticleHeader>\n\n        <ArticleBody>\n          <ReactMarkdown\n            source={body}\n          />\n        </ArticleBody>\n      </ArticleWrapper>\n    );\n  };\n\n  return (articles.length === 0) ? renderArticle(oneArticle) : renderArticle(articles);\n};\n\nexport default connect(mapStateToProps, actionCreator)(Article);\n","import React, { useEffect } from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { useHistory } from 'react-router';\nimport { Button, Input } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport { useParams } from 'react-router-dom';\nimport { mainUrl } from '../../routes';\nimport { renderErrorMessage, renderLoader } from '../../helper';\nimport 'antd/dist/antd.css';\nimport * as actions from '../../redux/actions/articles';\n\nimport {\n  FormItem,\n  FormArticle,\n  FormTitle,\n  FormItemTagsWrap,\n  FormAddTagButton,\n  FormRemoveTagButton,\n  FormItemTagsTitle,\n  FormItemTag,\n} from '../../styled-components';\n\nconst formSubmitButtonStyles = {\n  height: 40,\n  maxWidth: 320,\n  width: '100%',\n};\n\nconst formAddTagInputStyles = {\n  maxWidth: 300,\n  width: '100%',\n  borderRadius: 4,\n};\n\nconst markdownStyles = {\n  flexGrow: 1,\n};\n\nconst formItems = [\n  {\n    id: uniqueId(), title: 'Title', name: 'title', placeholder: 'Title', type: 'text',\n  },\n  {\n    id: uniqueId(), title: 'Short description', name: 'description', placeholder: 'Description', type: 'text',\n  },\n];\n\nconst formikInicialValues = {\n  title: '',\n  description: '',\n  body: '',\n  tagText: '',\n  tagList: [],\n};\n\nconst formikValidationSchema = Yup.object({\n  title: Yup.string()\n    .required('required'),\n  description: Yup.string()\n    .required('required'),\n  body: Yup.string()\n    .required('required'),\n});\n\nconst mapStateToProps = (state) => {\n  const {\n    userData, oneArticle, oneArticleState, editArticleState,\n  } = state;\n\n  return {\n    username: userData.username,\n    isOneArticleReady: oneArticleState === 'finished',\n    isArticleChanged: editArticleState === 'finished',\n    isInputsDisabled: editArticleState === 'requested',\n    oneArticle,\n  };\n};\n\nconst actionCreators = {\n  editArticle: actions.editArticle,\n  getOneArticle: actions.getOneArticle,\n};\n\nconst EditArticle = (props) => {\n  const {\n    isArticleChanged, username, getOneArticle, oneArticle, isOneArticleReady, isInputsDisabled,\n  } = props;\n  const { slug } = useParams();\n  const queryParam = slug.slice(1, slug.length);\n\n  const handleOnEditArticle = async (formik) => {\n    const { editArticle } = props;\n    const {\n      title, description, body, tagList,\n    } = formik.values;\n    const tags = tagList.map((tag) => tag.title);\n\n    const articleBody = {\n      article: {\n        title, description, body, tagList: tags,\n      },\n    };\n    editArticle(articleBody, queryParam, formik);\n  };\n\n  const history = useHistory();\n  const redirectToHome = () => {\n    history.push(mainUrl);\n  };\n\n  const formik = useFormik({\n    initialValues: formikInicialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: () => {\n      handleOnEditArticle(formik);\n    },\n  });\n\n  const setFormikValues = (article) => {\n    if (!isOneArticleReady) return false;\n\n    const {\n      author, description, tagList, title, body,\n    } = article;\n\n    const isCurrentUserAuthor = (username === author.username);\n    if (!isCurrentUserAuthor) redirectToHome();\n    formik.setFieldValue('title', title);\n    formik.setFieldValue('description', description);\n    formik.setFieldValue('body', body);\n    formik.setFieldValue('tagList', tagList);\n    return true;\n  };\n\n  useEffect(() => {\n    // запросить у сервера дату этого поста\n    if (!isOneArticleReady) getOneArticle(queryParam);\n\n    // изменить данные поста\n    if (isOneArticleReady) setFormikValues(oneArticle);\n\n    // редирект после изменения\n    if (isArticleChanged) {\n      redirectToHome();\n    }\n  }, [oneArticle, isArticleChanged]);\n\n  const handleOnAddTag = () => {\n    const { tagText, tagList } = formik.values;\n    if (tagText.trim().length === 0) {\n      formik.setFieldValue('tagText', '');\n      return;\n    }\n\n    const initialNewTag = {\n      id: uniqueId(),\n      title: tagText,\n    };\n\n    const newTagsArray = [...tagList, initialNewTag];\n    formik.setFieldValue('tagList', newTagsArray);\n    formik.setFieldValue('tagText', '');\n  };\n\n  const handleOnRemoveTag = (id) => () => {\n    const { tagList } = formik.values;\n\n    const newTagsArray = tagList.filter((tag) => tag.id !== id);\n\n    formik.setFieldValue('tagList', newTagsArray);\n  };\n\n  const handleOnClearTagInput = () => {\n    formik.setFieldValue('tagText', '');\n  };\n\n  const renderTags = () => {\n    const { tagList } = formik.values;\n    if (tagList.length === 0) return null;\n\n    return tagList.map((tag) => {\n      const { id, title } = tag;\n\n      return (\n        <FormItemTag key={id}>\n          <Input\n            style={formAddTagInputStyles}\n            onChange={formik.handleChange}\n            value={title}\n            disabled={isInputsDisabled}\n          />\n          <FormRemoveTagButton onClick={handleOnRemoveTag(id)}>Delete</FormRemoveTagButton>\n        </FormItemTag>\n      );\n    });\n  };\n\n  const renderInputs = () => (\n    formItems.map((formItem) => (\n      <FormItem key={formItem.id} htmlFor={formItem.name}>\n        {formItem.title}\n        <Input\n          type={formItem.type}\n          placeholder={formItem.placeholder}\n          id={formItem.name}\n          name={formItem.name}\n          onChange={formik.handleChange}\n          value={formik.values[formItem.name]}\n          disabled={isInputsDisabled}\n        />\n        {renderErrorMessage(formik, formItem.name)}\n      </FormItem>\n    ))\n  );\n\n  const renderForm = () => (\n    <FormArticle onSubmit={formik.handleSubmit}>\n      <FormTitle>Edit Article</FormTitle>\n\n      {renderInputs()}\n\n      <FormItem htmlFor=\"body\" style={markdownStyles}>\n        Text\n        <Input.TextArea\n          name=\"body\"\n          id=\"body\"\n          onChange={formik.handleChange}\n          value={formik.values.body}\n          rows={8}\n          disabled={isInputsDisabled}\n          allowClear\n        />\n        {renderErrorMessage(formik, 'body')}\n      </FormItem>\n\n      <FormItemTagsWrap>\n        <FormItemTagsTitle>Tags</FormItemTagsTitle>\n        {renderTags()}\n        <FormItemTag>\n          <Input\n            name=\"tagText\"\n            id=\"tagText\"\n            placeholder=\"write tag\"\n            style={formAddTagInputStyles}\n            onChange={formik.handleChange}\n            value={formik.values.tagText}\n            disabled={isInputsDisabled}\n          />\n          <FormRemoveTagButton onClick={handleOnClearTagInput}>Delete</FormRemoveTagButton>\n          <FormAddTagButton onClick={handleOnAddTag}>Add tag</FormAddTagButton>\n        </FormItemTag>\n      </FormItemTagsWrap>\n\n      <Button\n        htmlType=\"submit\"\n        type=\"primary\"\n        onClick={formik.handleSubmit}\n        style={formSubmitButtonStyles}\n        disabled={isInputsDisabled}\n      >\n        Send\n      </Button>\n    </FormArticle>\n  );\n\n  return (!isOneArticleReady) ? renderLoader() : renderForm();\n};\n\nEditArticle.propTypes = {\n  isArticleChanged: propTypes.bool,\n  username: propTypes.string,\n  getOneArticle: propTypes.func,\n  oneArticle: propTypes.objectOf(propTypes.object),\n  isOneArticleReady: propTypes.bool,\n  editArticle: propTypes.func,\n};\n\nEditArticle.defaultProps = {\n  isArticleChanged: false,\n  username: null,\n  getOneArticle: null,\n  oneArticle: {},\n  isOneArticleReady: false,\n  editArticle: null,\n};\n\nexport default connect(mapStateToProps, actionCreators)(EditArticle);\n","import React, { useEffect } from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { useHistory } from 'react-router';\nimport { Button, Input } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport { renderErrorMessage } from '../../helper';\nimport { mainUrl } from '../../routes';\nimport 'antd/dist/antd.css';\nimport * as actions from '../../redux/actions/articles';\n\nimport {\n  FormItem,\n  FormArticle,\n  FormTitle,\n  FormItemTagsWrap,\n  FormAddTagButton,\n  FormRemoveTagButton,\n  FormItemTagsTitle,\n  FormItemTag,\n} from '../../styled-components';\n\nconst formSubmitButtonStyles = {\n  height: 40,\n  maxWidth: 320,\n  width: '100%',\n};\n\nconst formAddTagInputStyles = {\n  maxWidth: 300,\n  width: '100%',\n  borderRadius: 4,\n};\n\nconst markdownStyles = {\n  flexGrow: 1,\n};\n\nconst formikInicialValues = {\n  title: '',\n  description: '',\n  body: '',\n  tagText: '',\n  tagList: [],\n};\n\nconst formItems = [\n  {\n    id: uniqueId(), title: 'Title', name: 'title', placeholder: 'Title', type: 'text',\n  },\n  {\n    id: uniqueId(), title: 'Short description', name: 'description', placeholder: 'Description', type: 'text',\n  },\n];\n\nconst formikValidationSchema = Yup.object({\n  title: Yup.string()\n    .required('required'),\n  description: Yup.string()\n    .required('required'),\n  body: Yup.string()\n    .required('required'),\n});\n\nconst mapStateToProps = (state) => {\n  const { createArticleState } = state;\n  return {\n    isArticlePublished: createArticleState === 'finished',\n    isInputsDisabled: createArticleState === 'requested',\n  };\n};\n\nconst actionCreators = {\n  createArticle: actions.createArticle,\n};\n\nconst CreateArticle = (props) => {\n  const { isArticlePublished, isInputsDisabled } = props;\n  const history = useHistory();\n  const redirectToHome = () => {\n    history.push(mainUrl);\n  };\n\n  const handleOnCreateArticle = async (formik) => {\n    const { createArticle } = props;\n    const {\n      title, description, body, tagList,\n    } = formik.values;\n    const tags = tagList.map((tag) => tag.value);\n\n    const articleBody = {\n      article: {\n        title, description, body, tagList: tags,\n      },\n    };\n    createArticle(articleBody, formik);\n  };\n\n  const formik = useFormik({\n    initialValues: formikInicialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: () => {\n      handleOnCreateArticle(formik);\n    },\n  });\n\n  const handleOnAddTag = () => {\n    const { tagText, tagList } = formik.values;\n    if (tagText.trim().length === 0) {\n      formik.setFieldValue('tagText', '');\n      return;\n    }\n\n    const initialNewTag = {\n      id: uniqueId(),\n      value: tagText,\n    };\n\n    const newTagsArray = [...tagList, initialNewTag];\n    formik.setFieldValue('tagList', newTagsArray);\n    formik.setFieldValue('tagText', '');\n  };\n\n  const handleOnRemoveTag = (id) => () => {\n    const { tagList } = formik.values;\n\n    const newTagsArray = tagList.filter((tag) => tag.id !== id);\n\n    formik.setFieldValue('tags', newTagsArray);\n  };\n\n  const handleOnClearTagInput = () => {\n    formik.setFieldValue('tagText', '');\n  };\n\n  const renderTags = () => {\n    const { tagList } = formik.values;\n    if (tagList.length === 0) return null;\n\n    return tagList.map((tag) => {\n      const { id, value } = tag;\n\n      return (\n        <FormItemTag key={id}>\n          <Input\n            style={formAddTagInputStyles}\n            onChange={formik.handleChange}\n            value={value}\n            disabled={isInputsDisabled}\n          />\n          <FormRemoveTagButton onClick={handleOnRemoveTag(id)}>Delete</FormRemoveTagButton>\n        </FormItemTag>\n      );\n    });\n  };\n\n  useEffect(() => {\n    if (isArticlePublished) {\n      redirectToHome();\n    }\n  }, [isArticlePublished]);\n\n  const renderInputs = () => (\n    formItems.map((formItem) => (\n      <FormItem key={formItem.id} htmlFor={formItem.name}>\n        {formItem.title}\n        <Input\n          type={formItem.type}\n          placeholder={formItem.placeholder}\n          id={formItem.name}\n          name={formItem.name}\n          onChange={formik.handleChange}\n          value={formik.values[formItem.name]}\n          disabled={isInputsDisabled}\n        />\n        {renderErrorMessage(formik, formItem.name)}\n      </FormItem>\n    ))\n  );\n\n  return (\n    <FormArticle onSubmit={formik.handleSubmit}>\n      <FormTitle>Create new article</FormTitle>\n\n      {renderInputs()}\n\n      <FormItem htmlFor=\"body\" style={markdownStyles}>\n        Text\n        <Input.TextArea\n          name=\"body\"\n          id=\"body\"\n          onChange={formik.handleChange}\n          value={formik.values.body}\n          rows={8}\n          disabled={isInputsDisabled}\n          allowClear\n        />\n        {renderErrorMessage(formik, 'body')}\n      </FormItem>\n\n      <FormItemTagsWrap>\n        <FormItemTagsTitle>Tags</FormItemTagsTitle>\n        {renderTags()}\n        <FormItemTag>\n          <Input\n            name=\"tagText\"\n            id=\"tagText\"\n            placeholder=\"write tag\"\n            style={formAddTagInputStyles}\n            onChange={formik.handleChange}\n            value={formik.values.tagText}\n            disabled={isInputsDisabled}\n          />\n          <FormRemoveTagButton onClick={handleOnClearTagInput}>Delete</FormRemoveTagButton>\n          <FormAddTagButton onClick={handleOnAddTag}>Add tag</FormAddTagButton>\n        </FormItemTag>\n      </FormItemTagsWrap>\n\n      <Button\n        htmlType=\"submit\"\n        type=\"primary\"\n        onClick={formik.handleSubmit}\n        style={formSubmitButtonStyles}\n        disabled={isInputsDisabled}\n      >\n        Send\n      </Button>\n    </FormArticle>\n  );\n};\n\nCreateArticle.propTypes = {\n  isArticlePublished: propTypes.bool,\n  createArticle: propTypes.func,\n  isInputsDisabled: propTypes.bool,\n};\n\nCreateArticle.defaultProps = {\n  isArticlePublished: false,\n  createArticle: null,\n  isInputsDisabled: false,\n};\n\nexport default connect(mapStateToProps, actionCreators)(CreateArticle);\n","import React, { useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route, Redirect,\n} from 'react-router-dom';\nimport { signInSuccess } from '../redux/actions/auth';\nimport PrivateRoute from '../react-router/private-route';\nimport AuthRoute from '../react-router/auth-route';\nimport Header from './header';\nimport SignIn from './sign-in';\nimport SignUp from './sign-up';\nimport EditProfile from './edit-profile';\nimport ArticlesList from './articles-list';\nimport Article from './article';\nimport EditArticle from './edit-article';\nimport CreateArticle from './create-article';\nimport {\n  MainWrapper, ContentHeader, ContentWrapper, ContentBody, ContentAuth,\n} from '../styled-components';\nimport {\n  mainUrl,\n  createArticleUrl,\n  signInUrl,\n  signUpUrl,\n  articleUrl,\n  editArticleUrl,\n  editProfileUrl,\n} from '../routes';\n\nconst mapStateToProps = (state) => {\n  const { userData, articles } = state;\n  const props = {\n    isAuthorized: userData.isAuthorized,\n    userData,\n    articles,\n  };\n  return props;\n};\n\nconst App = (props) => {\n  const { dispatch, isAuthorized } = props;\n  const authorizationCheck = () => {\n    if (localStorage.token === undefined) return;\n    dispatch(signInSuccess({\n      isAuthorized: true,\n      token: localStorage.token,\n      username: localStorage.username,\n      userProfileImage: localStorage.userProfileImage,\n    }));\n  };\n\n  useEffect(() => {\n    if (!isAuthorized) authorizationCheck();\n  }, [isAuthorized]);\n\n  return (\n    <MainWrapper>\n      <Router>\n        <ContentHeader>\n          <Header />\n        </ContentHeader>\n        <ContentWrapper>\n          <Switch>\n            <Route exact path={mainUrl} component={ArticlesList}>\n              <ContentBody>\n                <ArticlesList />\n              </ContentBody>\n            </Route>\n\n            <AuthRoute path={signInUrl}>\n              <ContentAuth>\n                <SignIn />\n              </ContentAuth>\n            </AuthRoute>\n\n            <AuthRoute path={signUpUrl}>\n              <ContentAuth>\n                <SignUp />\n              </ContentAuth>\n            </AuthRoute>\n\n            <PrivateRoute path={editProfileUrl}>\n              <ContentAuth>\n                <EditProfile />\n              </ContentAuth>\n            </PrivateRoute>\n\n            <PrivateRoute path={createArticleUrl}>\n              <ContentBody>\n                <CreateArticle />\n              </ContentBody>\n            </PrivateRoute>\n\n            <Route path={editArticleUrl()}>\n              <ContentBody>\n                <EditArticle />\n              </ContentBody>\n            </Route>\n\n            <Route path={articleUrl()}>\n              <ContentBody>\n                <Article />\n              </ContentBody>\n            </Route>\n\n            <Redirect to={mainUrl} />\n\n          </Switch>\n        </ContentWrapper>\n      </Router>\n    </MainWrapper>\n  );\n};\n\nApp.propTypes = {\n  dispatch: propTypes.func,\n  isAuthorized: propTypes.bool,\n};\n\nApp.defaultProps = {\n  dispatch: null,\n  isAuthorized: false,\n};\n\nexport default connect(mapStateToProps, null)(App);\n","export const setItemToLocalstorage = (key, value) => {\n  localStorage.setItem(String(key), String(value));\n};\n\nexport const removeItemFromLocalstorage = (key) => {\n  localStorage.removeItem(key);\n};\n","import { handleActions } from 'redux-actions';\nimport * as userActions from '../actions/user';\nimport * as articlesActions from '../actions/articles';\nimport * as authActions from '../actions/auth';\n\nimport { removeItemFromLocalstorage, setItemToLocalstorage } from '../../localstorage';\n\nconst userDataInitial = {\n  username: '', token: '', isAuthorized: false, userProfileImage: undefined,\n};\nexport const userData = handleActions({\n  [authActions.signInSuccess](state, action) {\n    const {\n      username, token, isAuthorized, userProfileImage,\n    } = action.payload;\n    setItemToLocalstorage('token', token);\n    setItemToLocalstorage('username', username);\n    setItemToLocalstorage('userProfileImage', userProfileImage);\n    return {\n      username, token, isAuthorized, userProfileImage,\n    };\n  },\n  [userActions.editUserProfileSuccess](state, action) {\n    const { username, userProfileImage } = action.payload;\n    removeItemFromLocalstorage('username');\n    setItemToLocalstorage('username', username);\n    removeItemFromLocalstorage('userProfileImage');\n    setItemToLocalstorage('userProfileImage', userProfileImage);\n    return { username, userProfileImage };\n  },\n  [authActions.logOutSuccess]() {\n    removeItemFromLocalstorage('token');\n    removeItemFromLocalstorage('username');\n    return userDataInitial;\n  },\n}, userDataInitial);\n\nexport const articles = handleActions({\n  [articlesActions.getArticlesProcess](state, action) {\n    return [...state, ...action.payload];\n  },\n  [articlesActions.refreshLikeInArticlesArray](state, { payload }) {\n    const currentArticleIndex = state.findIndex((el) => el.id === payload);\n    const currentArticle = state[currentArticleIndex];\n    const changedArticle = {\n      ...currentArticle,\n      favorited: !currentArticle.favorited,\n      favoritesCount: (currentArticle.favorited)\n        ? currentArticle.favoritesCount - 1\n        : currentArticle.favoritesCount + 1,\n    };\n    return [\n      ...state.slice(0, currentArticleIndex),\n      changedArticle,\n      ...state.slice(currentArticleIndex + 1),\n    ];\n  },\n  [articlesActions.createArticleSuccess]() {\n    return [];\n  },\n  [articlesActions.editArticleSuccess]() {\n    return [];\n  },\n  [articlesActions.removeArticleSuccess]() {\n    return [];\n  },\n}, []);\n\nexport const oneArticle = handleActions({\n  [articlesActions.getOneArticleSuccess](state, action) {\n    return { ...action.payload };\n  },\n}, {});\n\nexport const likesStateOnServer = handleActions({\n  [articlesActions.addLikeSuccess](state, action) {\n    const elAlreadyHave = state.some((el) => el.id === action.payload.id);\n    if (elAlreadyHave) {\n      const newState = state.map((el) => (\n        (el.id === action.payload.id) ? { ...el, isFavorited: action.payload.isFavorited } : el\n      ));\n      return [...newState];\n    }\n    return [...state, { ...action.payload }];\n  },\n}, []);\n","import { handleActions } from 'redux-actions';\nimport * as userActions from '../actions/user';\nimport * as articlesActions from '../actions/articles';\nimport * as authActions from '../actions/auth';\n\nexport const signUpState = handleActions({\n  [authActions.signUpRequest]() {\n    return 'requested';\n  },\n  [authActions.signUpFailure]() {\n    return 'failed';\n  },\n  [authActions.signUpSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const signInState = handleActions({\n  [authActions.signInRequest]() {\n    return 'requested';\n  },\n  [authActions.signInFailure]() {\n    return 'failed';\n  },\n  [authActions.signInSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const editUserProfileState = handleActions({\n  [userActions.editUserProfileRequest]() {\n    return 'requested';\n  },\n  [userActions.editUserProfileFailure]() {\n    return 'failed';\n  },\n  [userActions.editUserProfileSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const getArticlesState = handleActions({\n  [articlesActions.getArticlesProcess]() {\n    return 'processed';\n  },\n  [articlesActions.refreshArticlesRequest]() {\n    return 'requested';\n  },\n  [articlesActions.getArticlesSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const createArticleState = handleActions({\n  [articlesActions.createArticleRequest]() {\n    return 'requested';\n  },\n  [articlesActions.createArticleFailure]() {\n    return 'failed';\n  },\n  [articlesActions.createArticleSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const oneArticleState = handleActions({\n  [articlesActions.getOneArticleRequest]() {\n    return 'requested';\n  },\n  [articlesActions.getOneArticleFailure]() {\n    return 'failed';\n  },\n  [articlesActions.getOneArticleSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const editArticleState = handleActions({\n  [articlesActions.editArticleRequest]() {\n    return 'requested';\n  },\n  [articlesActions.editArticleFailure]() {\n    return 'failed';\n  },\n  [articlesActions.editArticleSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const addLikeRequestState = handleActions({\n  [articlesActions.addLikeRequest](state, action) {\n    // id лайков запрос на изменение которых уже отправлен\n    return [...state, action.payload];\n  },\n  [articlesActions.addLikeFailure]() {\n    return 'failed';\n  },\n  [articlesActions.addLikeSuccess](state, action) {\n    // удаляем id лайка после завершения реквеста\n    return [...state.filter((el) => el !== action.payload.id)];\n  },\n}, []);\n\nexport const localLikesStateProcess = handleActions({\n  [articlesActions.addLikeSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const removeArticleState = handleActions({\n  [articlesActions.removeArticleRequest]() {\n    return 'requested';\n  },\n  [articlesActions.removeArticleFailure]() {\n    return 'failed';\n  },\n  [articlesActions.removeArticleSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n","import { combineReducers } from 'redux';\nimport * as data from './dataReducers';\nimport * as state from './stateReducers';\n\nexport default combineReducers({\n  signUpState: state.signUpState,\n  signInState: state.signInState,\n  getArticlesState: state.getArticlesState,\n  createArticleState: state.createArticleState,\n  editUserProfileState: state.editUserProfileState,\n  oneArticleState: state.oneArticleState,\n  editArticleState: state.editArticleState,\n  addLikeRequestState: state.addLikeRequestState,\n  localLikesStateProcess: state.localLikesStateProcess,\n  removeArticleState: state.removeArticleState,\n\n  likesStateOnServer: data.likesStateOnServer,\n  userData: data.userData,\n  articles: data.articles,\n  oneArticle: data.oneArticle,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport reducers from './redux/reducers';\n\nconst store = createStore(\n  reducers,\n  compose(\n    applyMiddleware(thunk),\n  ),\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App dispatch={store.dispatch} />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}