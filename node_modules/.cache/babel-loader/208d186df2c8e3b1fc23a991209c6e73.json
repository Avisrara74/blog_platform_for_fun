{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\stalk\\\\jm-blog-platform\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\stalk\\\\jm-blog-platform\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import*as routes from'./routes';import{checkFieldErrors,mainRequestHandler,networkErrorCheck}from'./index';axios.interceptors.request.use(function(req){return mainRequestHandler(req);});// редактирование профиля пользователя\n// eslint-disable-next-line import/prefer-default-export\nexport var editUserProfile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userData,formik){var response,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.put(routes.userProfileUrl,userData);case 3:response=_context.sent;user=response.data.user;return _context.abrupt(\"return\",{username:user.username,userProfileImage:user.image});case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);networkErrorCheck(_context.t0);if(_context.t0.response.status===422){checkFieldErrors(_context.t0.response.data.errors,formik);}throw _context.t0;case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function editUserProfile(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/stalk/jm-blog-platform/src/API/user.js"],"names":["axios","routes","checkFieldErrors","mainRequestHandler","networkErrorCheck","interceptors","request","use","req","editUserProfile","userData","formik","put","userProfileUrl","response","user","data","username","userProfileImage","image","status","errors"],"mappings":"yTAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,UAAxB,CACA,OAASC,gBAAT,CAA2BC,kBAA3B,CAA+CC,iBAA/C,KAAwE,SAAxE,CAEAJ,KAAK,CAACK,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,SAACC,GAAD,QAASL,CAAAA,kBAAkB,CAACK,GAAD,CAA3B,EADF,EAIA;AACA;AACA,MAAO,IAAMC,CAAAA,eAAe,0FAAG,iBAAOC,QAAP,CAAiBC,MAAjB,0KAEJX,CAAAA,KAAK,CAACY,GAAN,CAAUX,MAAM,CAACY,cAAjB,CAAiCH,QAAjC,CAFI,QAErBI,QAFqB,eAInBC,IAJmB,CAIVD,QAAQ,CAACE,IAJC,CAInBD,IAJmB,iCAKpB,CACLE,QAAQ,CAAEF,IAAI,CAACE,QADV,CAELC,gBAAgB,CAAEH,IAAI,CAACI,KAFlB,CALoB,0DAU3Bf,iBAAiB,aAAjB,CACA,GAAI,YAAMU,QAAN,CAAeM,MAAf,GAA0B,GAA9B,CAAmC,CACjClB,gBAAgB,CAAC,YAAMY,QAAN,CAAeE,IAAf,CAAoBK,MAArB,CAA6BV,MAA7B,CAAhB,CACD,CAb0B,sFAAH,kBAAfF,CAAAA,eAAe,gDAArB","sourcesContent":["import axios from 'axios';\nimport * as routes from './routes';\nimport { checkFieldErrors, mainRequestHandler, networkErrorCheck } from './index';\n\naxios.interceptors.request.use(\n  (req) => mainRequestHandler(req),\n);\n\n// редактирование профиля пользователя\n// eslint-disable-next-line import/prefer-default-export\nexport const editUserProfile = async (userData, formik) => {\n  try {\n    const response = await axios.put(routes.userProfileUrl, userData);\n\n    const { user } = response.data;\n    return {\n      username: user.username,\n      userProfileImage: user.image,\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      checkFieldErrors(error.response.data.errors, formik);\n    }\n    throw error;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}