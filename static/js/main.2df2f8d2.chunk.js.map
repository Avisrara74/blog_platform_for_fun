{"version":3,"sources":["images/like-active.svg","images/like-disabled.svg","images/user-default-img.svg","serviceWorker.js","routes/index.js","react-router/private-route.js","react-router/auth-route.js","styled-components/index.js","API/routes.js","API/index.js","API/auth.js","redux/actions/auth.js","components/header/index.js","helper.js","components/sign-in/index.js","components/sign-up/index.js","API/user.js","redux/actions/user.js","components/edit-profile/index.js","API/articles.js","redux/actions/articles.js","components/articles-list/article.js","components/articles-list/index.js","components/article/index.js","components/edit-article/index.js","components/create-article/index.js","components/App.js","redux/reducers/articles.js","localstorage/index.js","redux/reducers/auth.js","redux/reducers/editUser.js","redux/reducers/index.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","articleUrl","slug","editArticleUrl","connect","state","isAuthorized","userData","props","children","rest","render","to","defaultButtonStyles","MainWrapper","styled","div","ContentHeader","header","ContentWrapper","ContentBody","ContentAuth","ArticlesWrapper","ArticlesItemsWrapper","ArticlesItem","ArticleWrapper","ArticleHeader","ArticleBody","ArticlesInfo","ArticlesHeader","ArticlesHeaderTitle","ArticlesStats","ArticlesLikeImg","img","ArticlesLikesCount","span","ArticlesUserInfoWrap","ArticleUserInfoWrap","ArticlesUserInfo","ArticlesTagsWrap","ArticlesTag","ArticlesDescription","p","ArticlesUserInfoGroup","ArticleAuthorOptions","ArticleDeleteButton","button","ArticleEditButton","ArticlesUsername","ArticlesDate","ArticlesUserImage","PaginationWrapper","FormSignInWrapper","Form","form","FormTitle","FormItem","label","FormSignUpLink","FormSignInLink","FormItemError","FormCheckboxWrap","FormCheckboxTitle","FormSubmitButtonStyles","height","FormArticle","FormItemTagsWrap","FormAddTagButton","FormRemoveTagButton","FormItemTagsTitle","FormItemTag","LoaderWrapper","HeaderWrapper","HeaderIsAuth","HeaderUsername","HeaderIsNotAuth","HeaderSignIn","HeaderSignUp","HeaderCreateArticle","HeaderLogOut","HeaderEditProfile","url","signUpUrl","signInUrl","articlesUrl","userProfileUrl","oneArticleUrl","queryParam","changeLikeUrl","checkFieldErrors","errResponse","formik","Object","entries","forEach","error","field","message","setFieldError","setSubmitting","networkErrorCheck","err","alert","signInErrorsCheck","keys","length","mainRequestHandler","req","headers","json","undefined","localStorage","token","Authorization","axios","interceptors","request","use","signInProcess","a","post","routes","response","responseUserData","data","user","username","userProfileImage","image","email","status","signUpProcess","newUser","signUpRequest","createAction","signUpSuccess","signUpFailure","signInRequest","signInSuccess","signInFailure","logOutSuccess","actionCreator","logOutProcess","Header","renderUserImg","handleOnLogOut","useEffect","src","onClick","defaultProps","userDefaultImgUrl","renderLoader","type","color","width","renderErrorMessage","fieldName","touched","errors","getDate","createdAt","formatDistanceToNow","Date","formikInitialValues","password","actionCreators","signIn","dispatch","api","SignIn","isInputsDisable","history","useHistory","handleOnAuthorizationUser","values","toLowerCase","useFormik","initialValues","onSubmit","push","handleSubmit","htmlFor","placeholder","id","name","onChange","handleChange","value","disabled","Password","iconRender","visible","EyeTwoTone","EyeInvisibleOutlined","htmlType","className","style","signInState","formikInicialValues","repeatPassword","acceptTerms","formItems","uniqueId","title","formikValidationSchema","Yup","max","required","min","matches","oneOf","signUp","newUserData","SignUp","isUserRegistered","handleOnSignUp","validationSchema","map","formItem","key","checked","signUpState","editUserProfile","put","editUserProfileRequest","editUserProfileSuccess","editUserProfileFailure","EditProfile","userDataInitialValues","handleOnEditUserProfile","editUserProfileState","getArticles","articlesPerRequest","offset","params","limit","method","articles","initialArticlesById","el","tagList","tagName","createArticle","articleBody","article","getOneArticle","get","editArticle","addLike","console","log","removeLike","delete","removeArticle","getArticlesRequest","getArticlesSuccess","createArticleRequest","createArticleSuccess","createArticleFailure","getOneArticleRequest","getOneArticleSuccess","getOneArticleFailure","editArticleRequest","editArticleSuccess","editArticleFailure","addLikeRequest","addLikeSuccess","addLikeFailure","refreshLikeInArticlesArray","refreshLikesUI","removeLikeRequest","removeLikeSuccess","removeLikeFailure","refreshCurrentArticleLike","removeArticleRequest","removeArticleSuccess","removeArticleFailure","refreshArticlesRequest","linkStyles","textDecoration","actions","useState","timerIdChangeLike","setTimerIdChangeLike","changeLikeRequest","articleLikeInfo","favorited","handleOnLikeArticle","event","preventDefault","stopPropagation","clearTimeout","setTimeout","author","description","favoritesCount","dateDiff","isLiked","activeLikeSrc","disabledLikeSrc","tag","refreshArticles","ArticlesList","isArticlesReady","isRequestProcessed","isNewArticleCreated","isArticleEdited","isArticleRemoved","currentPage","setCurrentPage","handleOnChangePagination","pageSize","size","total","current","showSizeChanger","getArticlesState","createArticleState","editArticleState","removeArticleState","refreshCurrentArticleLikeUI","oneArticle","oneArticleState","isOneArticleReady","useParams","validSlug","slice","handleOnDeleteArticle","confirm","Modal","icon","ExclamationCircleOutlined","onOk","body","isCurrentUserAuthor","renderAuthorOptions","source","renderArticle","formSubmitButtonStyles","maxWidth","formAddTagInputStyles","borderRadius","markdownStyles","flexGrow","tagText","articleData","EditArticle","isArticleChanged","isInputsDisabled","handleOnEditArticle","tags","redirectToHome","setFieldValue","setFormikValues","handleOnAddTag","trim","initialNewTag","newTagsArray","handleOnRemoveTag","filter","handleOnClearTagInput","TextArea","rows","allowClear","renderTags","CreateArticle","isArticlePublished","handleOnCreateArticle","App","exact","path","component","handleActions","articlesActions","action","payload","currentArticleIndex","findIndex","currentArticle","changedArticle","addLikeState","removeLikeState","setItemToLocalstorage","setItem","String","removeItemFromLocalstorage","removeItem","authActions","userDataInitial","userActions","combineReducers","auth","editUser","store","createStore","reducers","compose","applyMiddleware","thunk","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.2df2f8d2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/like-active.24897746.svg\";","module.exports = __webpack_public_path__ + \"static/media/like-disabled.d17fcd0b.svg\";","module.exports = __webpack_public_path__ + \"static/media/user-default-img.1197b293.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const mainUrl = '/';\n\nexport const signInUrl = '/sign-in';\n\nexport const signUpUrl = '/sign-up';\n\nexport const editProfileUrl = '/edit-profile';\n\nexport const createArticleUrl = '/create-article';\n\nexport const articleUrl = (slug = 'slug') => `/article:${slug}`;\n\nexport const editArticleUrl = (slug = 'slug') => `/edit-article:${slug}`;\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signInUrl } from '../routes';\n\nconst PrivateRoute = (props) => {\n  const { children, isAuthorized, ...rest } = props;\n\n  return (\n    <Route\n      {...rest}\n      render={() => (isAuthorized ? children : <Redirect to={signInUrl} />)}\n    />\n  );\n};\n\nexport default connect((state) => ({\n  isAuthorized: state.userData.isAuthorized,\n}), null)(PrivateRoute);\n","/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { mainUrl } from '../routes';\n\nconst AuthRoute = (props) => {\n  const { children, isAuthorized, ...rest } = props;\n\n  return (\n    <Route\n      {...rest}\n      render={() => (isAuthorized ? <Redirect to={mainUrl} /> : children)}\n    />\n  );\n};\n\nexport default connect((state) => ({\n  isAuthorized: state.userData.isAuthorized,\n}), null)(AuthRoute);\n","import styled from 'styled-components';\n\nconst defaultButtonStyles = `\n  font-size: 14px;\n  padding: 4px 16px;\n  color: #F5222D;\n  border: 1px solid #F5222D;\n  border-radius: 5px;\n  background-color: white;\n  font-weight: 500;\n`;\n\n/* app.js main styles */\nexport const MainWrapper = styled.div`\n  background-color: #E5E5E5;\n`;\n\nexport const ContentHeader = styled.header`\n  \n`;\n\nexport const ContentWrapper = styled.div`\n  min-height: calc(100vh - 80px);\n  display: flex;\n  justify-content: center;\n`;\n\nexport const ContentBody = styled.div`\n  background-color: #E5E5E5;\n  margin: 24px 24px;\n  max-width: 941px;\n  width: 100%;\n  word-break: break-all;\n`;\n\nexport const ContentAuth = styled.div`\n  margin: 60px 24px;\n  padding: 48px 32px;\n  background: #FFFFFF;\n  border: 1px solid #D9D9D9;\n  box-sizing: border-box;\n  box-shadow: 0px 0.608796px 2.93329px rgba(0, 0, 0, 0.0196802),\n              0px 1.46302px 7.04911px rgba(0, 0, 0, 0.0282725), \n              0px 2.75474px 13.2728px rgba(0, 0, 0, 0.035), \n              0px 4.91399px 23.6765px rgba(0, 0, 0, 0.0417275), \n              0px 9.19107px 44.2843px rgba(0, 0, 0, 0.0503198), \n              0px 22px 106px rgba(0, 0, 0, 0.07);\n  border-radius: 6px;\n  max-width: 100%;\n  width: 384px;\n  height: min-content;\n`;\n/* app.js main styles */\n\n/* articles styles */\nexport const ArticlesWrapper = styled.div`\n  \n`;\n\nexport const ArticlesItemsWrapper = styled.div`\n  background: #E5E5E5;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const ArticlesItem = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  \n  background-color: #FFFFFF;\n  padding: 16px;\n  margin-bottom: 20px;\n  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);\n  border-radius: 6px;\n  min-height: 14vh;\n  \n  @media only screen and (max-width: 320px) {\n    flex-direction: column;\n  }\n`;\n\nexport const ArticleWrapper = styled.div`\n  background-color: #FFFFFF;\n  padding: 16px;\n  box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.15);\n  \n`;\n\nexport const ArticleHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 20px;\n`;\n\nexport const ArticleBody = styled.div`\n  word-break: break-all;\n  min-height: 60vh;\n`;\n\nexport const ArticlesInfo = styled.div`\n  display: flex;\n  flex-grow: 1;\n  overflow: hidden;\n  flex-direction: column;\n  flex-basis: 70%;\n  margin-right: 16px;\n  \n  & > div, & > p {\n    flex-basis: 100%;\n  }\n  \n  @media only screen and (max-width: 320px) {\n    justify-content: center;\n    text-align: center;\n  }\n`;\n\nexport const ArticlesHeader = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  \n  @media only screen and (max-width: 320px) {\n    justify-content: center;\n  }\n`;\n\nexport const ArticlesHeaderTitle = styled.div`\n  color: #1890FF;\n  font-size: 20px;\n`;\n\nexport const ArticlesStats = styled.div`\n  \n`;\n\nexport const ArticlesLikeImg = styled.img`\n  width: 16px;\n  height: 16px;\n  margin: 0 0 0 8px;\n  cursor: pointer;\n`;\n\nexport const ArticlesLikesCount = styled.span`\n  margin: 0 0 0 4px;\n`;\n\nexport const ArticlesUserInfoWrap = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: flex-start;\n  \n  @media only screen and (max-width: 320px) {\n    order: -1;\n    justify-content: center;\n  }\n`;\n\nexport const ArticleUserInfoWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n`;\n\nexport const ArticlesUserInfo = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const ArticlesTagsWrap = styled.div``;\n\nexport const ArticlesTag = styled.span`\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  border-radius: 2px;\n  padding: 0 4px;\n  \n  &:not(:first-child) {\n    margin: 0 0 0 8px;\n  }\n`;\n\nexport const ArticlesDescription = styled.p`\n  font-size: 12px;\n  margin: 0;\n`;\n\nexport const ArticlesUserInfoGroup = styled.div`\n  margin: 0px 16px 0px 0px;\n  text-align: center;\n`;\n\nexport const ArticleAuthorOptions = styled.div`\n  margin: 8px 0 0 0;\n`;\n\nexport const ArticleDeleteButton = styled.button`\n  font-size: 14px;\n  padding: 4px 16px;\n  color: #F5222D;\n  border: 1px solid #F5222D;\n  border-radius: 5px;\n  background-color: white;\n  font-weight: 500;\n\n  outline: none;\n  position: relative;\n  cursor: pointer;\n  z-index: 0;\n\n\n  &:before {\n      content: '';\n      background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);\n      position: absolute;\n      top: -2px;\n      left:-2px;\n      background-size: 400%;\n      z-index: -1;\n      filter: blur(5px);\n      width: calc(100% + 4px);\n      height: calc(100% + 4px);\n      animation: glowing 20s linear infinite;\n      opacity: 0;\n      transition: opacity .3s ease-in-out;\n      border-radius: 10px;\n  }\n  \n  &:active {\n      color: #000\n  }\n  \n  &:active:after {\n      background: transparent;\n  }\n  \n  &:hover:before {\n      opacity: 1;\n  }\n  \n  &:after {\n      z-index: -1;\n      content: '';\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background: white;\n      left: 0;\n      top: 0;\n      border-radius: 10px;\n  }\n  \n  @keyframes glowing {\n      0% { background-position: 0 0; }\n      50% { background-position: 400% 0; }\n      100% { background-position: 0 0; }\n  }\n`;\n\nexport const ArticleEditButton = styled.button`\n  font-size: 14px;\n  padding: 4px 16px;\n  color: #52C41A;;\n  border: 1px solid #52C41A;;\n  border-radius: 5px;\n  background-color: white;\n  font-weight: 500;\n  margin: 0 0 0 16px;\n  \n  outline: none;\n  position: relative;\n  cursor: pointer;\n  z-index: 0;\n\n  &:before {\n      content: '';\n      background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);\n      position: absolute;\n      top: -2px;\n      left:-2px;\n      background-size: 400%;\n      z-index: -1;\n      filter: blur(5px);\n      width: calc(100% + 4px);\n      height: calc(100% + 4px);\n      animation: glowing 20s linear infinite;\n      opacity: 0;\n      transition: opacity .3s ease-in-out;\n      border-radius: 10px;\n  }\n  \n  &:active {\n      color: #000\n  }\n  \n  &:active:after {\n      background: transparent;\n  }\n  \n  &:hover:before {\n      opacity: 1;\n  }\n  \n  &:after {\n      z-index: -1;\n      content: '';\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background: white;\n      left: 0;\n      top: 0;\n      border-radius: 10px;\n  }\n  \n  @keyframes glowing {\n      0% { background-position: 0 0; }\n      50% { background-position: 400% 0; }\n      100% { background-position: 0 0; }\n  }\n`;\n\nexport const ArticlesUsername = styled.p`\n  margin: 0;\n  font-size: 18px;\n  color: rgba(0, 0, 0, 0.85);\n  font-weight: 500;\n  \n`;\n\nexport const ArticlesDate = styled.p`\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 12px;\n  margin: 0;\n`;\n\nexport const ArticlesUserImage = styled.img`\n  height: 46px;\n  width: 46px;\n  border-radius: 50%;\n`;\n\nexport const PaginationWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  background-color: #E5E5E5;\n  margin: 16px 0 0 0;\n`;\n/* articles styles */\n\n/* form styles */\nexport const FormSignInWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const Form = styled.form`\n  max-width: 384px;\n`;\n\nexport const FormTitle = styled.div`\n  text-align: center;\n  color: #262626;\n  font-size: 20px;\n  margin: 0 0 16px 0;\n  font-weight: 500;\n`;\n\nexport const FormItem = styled.label`\n  color: #262626;\n  font-size: 14px;\n  font-weight: normal;\n  margin: 0 0 16px 0;\n  display: flex;\n  flex-direction: column;\n  \n  &:last-of-type {\n    margin-bottom: 8px;\n  }\n`;\n\nexport const FormSignUpLink = styled.div`\n  color: #8C8C8C;\n  font-size: 12px;\n  text-align: center;\n`;\n\nexport const FormSignInLink = styled.div`\n  color: #8C8C8C;\n  font-size: 12px;\n  text-align: center;\n`;\n\nexport const FormItemError = styled.div`\n  color: #F5222D;\n  font-size: 14px;\n`;\n\nexport const FormCheckboxWrap = styled.div`\n  border-top: 1px solid #E8E8E8;\n  padding-top: 8px;\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const FormCheckboxTitle = styled.label`\n  margin: 0 0 0 8px;\n`;\n\nexport const FormSubmitButtonStyles = {\n  height: 40,\n};\n\n/* FormArticle */\n\nexport const FormArticle = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  background-color: white;\n  padding: 48px 32px;\n  min-height: 642px;\n`;\n\nexport const FormItemTagsWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  margin-bottom: 16px;\n`;\n\nexport const FormAddTagButton = styled.button`\n  padding: 4px 16px;\n  font-size: 16px;\n  border-radius: 4px;\n  margin: 0 0 0 16px;\n  background-color: #FFFFFF;\n  color: #1890FF;\n  border: 1px solid #1890FF;\n  width: 100px;\n  \n  &:hover {\n    opacity: 0.7;\n  }\n`;\n\nexport const FormRemoveTagButton = styled.button`\n  padding: 4px 16px;\n  width: 100px;\n  font-size: 16px;\n  border-radius: 4px;\n  margin: 0 0 0 16px;\n  background-color: #FFFFFF;\n  color: #F5222D;\n  border: 1px solid #F5222D;\n  \n  &:hover {\n    opacity: 0.7;\n  }\n`;\n\nexport const FormItemTagsTitle = styled.span`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nexport const FormItemTag = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  margin: 0 0 10px 0;\n`;\n\nexport const LoaderWrapper = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  text-align: center;\n`;\n\nexport const HeaderWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  height: 80px;\n  font-size: 18px;\n  align-items: center;\n  padding: 0px 20px;\n  background-color: #FFFFFF;\n  \n  @media screen and (max-width: 598px) {\n    min-height: 80px;\n    height: auto;\n  }\n`;\n\nexport const HeaderIsAuth = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  position: relative;\n  \n  & > *:not(:last-child):not(:nth-child(2)) {\n    margin-right: 24px;\n  }\n  \n  & > div:nth-child(2) {\n    padding: 6px 8px 0 0;\n  }\n  \n  @media screen and (max-width: 564px) {\n    flex-wrap: wrap;\n  }\n`;\n\nexport const HeaderUsername = styled.span`\n  color: #262626;\n  font-size: 20px;\n  font-weight: 500;\n  padding: 4px 8px 0 0;\n`;\n\nexport const HeaderIsNotAuth = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nexport const HeaderSignIn = styled.div`\n  margin-right: 32px;\n  text-decoration: none;\n  color: rgba(0, 0, 0, 0.85);\n`;\n\nexport const HeaderSignUp = styled.button`\n  ${defaultButtonStyles}\n  border: 1px solid #52C41A;\n  box-sizing: border-box;\n  padding: 8px 16px;\n  border-radius: 5;\n  color: #52C41A;\n  text-decoration: none;\n`;\n\nexport const HeaderCreateArticle = styled.button`\n  ${defaultButtonStyles}\n  border: 1px solid #52C41A;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  font-size: 14px;\n  color: #52C41A;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  \n  & > a {\n    color: #52C41A;\n  }\n`;\n\nexport const HeaderLogOut = styled.button`\n  ${defaultButtonStyles};\n  border: 1px solid rgba(0, 0, 0, 0.75);\n  box-sizing: border-box;\n  font-size: 18px;\n  color: rgba(0, 0, 0, 0.75);\n  padding: 8px 16px;\n  \n  & > a {\n    color: rgba(0,0,0,0.75);\n  }\n  @media screen and (max-width: 598px) {\n    margin: 8px 0px;\n  }\n`;\n\nexport const HeaderEditProfile = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin: 0 16px 0 0;\n  \n  @media screen and (max-width: 598px) {\n    \n    order: -1;\n  }\n`;\n","export const url = 'https://conduit.productionready.io/api/';\nexport const signUpUrl = `${url}users`;\nexport const signInUrl = `${url}users/login`;\nexport const articlesUrl = `${url}articles`;\nexport const userProfileUrl = `${url}user`;\n\nexport const oneArticleUrl = (queryParam) => `${articlesUrl}/${queryParam}`;\n\nexport const changeLikeUrl = (queryParam) => `${articlesUrl}/${queryParam}/favorite`;\n","// проверка на ошибки в полях форм\nexport const checkFieldErrors = (errResponse, formik) => {\n  Object.entries(errResponse).forEach((error) => {\n    const [field, message] = error;\n    formik.setFieldError(field, message[0]);\n    formik.setSubmitting(false);\n  });\n};\n\n// проверка на ошибку сети\nexport const networkErrorCheck = (err) => {\n  if (err.message === 'Network Error') {\n    alert('Ошибка соединения'); // eslint-disable-line no-alert\n  }\n};\n\n// проверка ошибки авторизации\nexport const signInErrorsCheck = (errResponse, formik) => {\n  if (Object.keys(errResponse).length > 0) {\n    formik.setFieldError('email', 'Invalid login or password');\n    formik.setFieldError('password', 'Invalid login or password');\n    formik.setSubmitting(false);\n  }\n};\n\nexport const mainRequestHandler = (req) => {\n  req.headers['Content-Type'] = 'application/json;charset=utf-8';\n  req.json = true;\n\n  if (localStorage.token !== undefined) {\n    req.headers.Authorization = `Token ${localStorage.token}`;\n  }\n\n  return req;\n};\n","import axios from 'axios';\nimport * as routes from './routes';\nimport {\n  mainRequestHandler,\n  networkErrorCheck,\n} from './index';\n\naxios.interceptors.request.use(\n  (req) => mainRequestHandler(req),\n);\n\n// авторизация\n// eslint-disable-next-line consistent-return\nexport const signInProcess = async (userData) => {\n  try {\n    const response = await axios.post(routes.signInUrl, userData);\n    const responseUserData = response.data.user;\n    return {\n      username: responseUserData.username,\n      token: responseUserData.token,\n      isAuthorized: true,\n      userProfileImage: responseUserData.image,\n      email: responseUserData.email,\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      throw error;\n    }\n  }\n};\n\n// регистрация\nexport const signUpProcess = async (newUser) => {\n  try {\n    await axios.post(routes.signUpUrl, newUser);\n    alert('Регистрация прошла успешно'); // eslint-disable-line no-alert\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      throw error;\n    }\n  }\n};\n","import { createAction } from 'redux-actions';\nimport * as api from '../../API/auth';\n\nexport const signUpRequest = createAction('SIGN_UP_REQUEST');\nexport const signUpSuccess = createAction('SIGN_UP_SUCCESS');\nexport const signUpFailure = createAction('SIGN_UP_FAILURE');\n\n// регистрация\nexport const signUp = (newUserData) => async (dispatch) => {\n  dispatch(signUpRequest());\n  try {\n    await api.signUpProcess(newUserData);\n    dispatch(signUpSuccess());\n  } catch (error) {\n    dispatch(signUpFailure());\n    throw error;\n  }\n};\n\nexport const signInRequest = createAction('LOG_IN_REQUEST');\nexport const signInSuccess = createAction('LOG_IN_SUCCESS');\nexport const signInFailure = createAction('LOG_IN_FAILURE');\n\n// авторизация\nexport const signIn = (userData) => async (dispatch) => {\n  dispatch(signInRequest());\n  try {\n    const responseUserData = await api.signInProcess(userData);\n    dispatch(signInSuccess(responseUserData));\n  } catch (error) {\n    dispatch(signInFailure());\n    throw error;\n  }\n};\n\nexport const logOutSuccess = createAction('LOGOUT_SUCCESS');\n","import React, { useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport propTypes from 'prop-types';\nimport {\n  signInUrl, signUpUrl, mainUrl, createArticleUrl, editProfileUrl,\n} from '../../routes';\nimport {\n  ArticlesUserImage, HeaderWrapper, HeaderIsAuth, HeaderUsername, HeaderIsNotAuth,\n  HeaderSignIn, HeaderSignUp, HeaderCreateArticle, HeaderLogOut,\n  HeaderEditProfile,\n} from '../../styled-components';\nimport userDefaultImgUrl from '../../images/user-default-img.svg';\nimport { logOutSuccess as logOutProcess } from '../../redux/actions/auth';\n\nconst mapStateToProps = (state) => {\n  const { isAuthorized, username, userProfileImage } = state.userData;\n  const userImageUrl = () => {\n    if (typeof userProfileImage === 'string' && userProfileImage) {\n      return userProfileImage;\n    }\n    return userDefaultImgUrl;\n  };\n\n  return {\n    isAuthorized,\n    username,\n    userProfileImage: userImageUrl(),\n  };\n};\n\nconst actionCreator = {\n  logOutSuccess: logOutProcess,\n};\n\nconst Header = (props) => {\n  const {\n    isAuthorized, username, userProfileImage, logOutSuccess,\n  } = props;\n\n  const renderUserImg = () => (\n    userProfileImage\n  );\n\n  const handleOnLogOut = () => {\n    logOutSuccess();\n  };\n\n  useEffect(() => {\n    renderUserImg();\n  }, [isAuthorized, userProfileImage]);\n\n  const renderHeaderMenu = () => {\n    // рендер если пользователь авторизирован\n    if (isAuthorized) {\n      return (\n        <HeaderIsAuth>\n          <HeaderCreateArticle>\n            <NavLink to={createArticleUrl}>\n              Create article\n            </NavLink>\n          </HeaderCreateArticle>\n\n          <HeaderEditProfile>\n            <NavLink to={editProfileUrl}>\n              <HeaderUsername>{username}</HeaderUsername>\n              <ArticlesUserImage src={renderUserImg()} />\n            </NavLink>\n          </HeaderEditProfile>\n\n          <HeaderLogOut onClick={handleOnLogOut}>\n            <NavLink to={signUpUrl}>\n              Log Out\n            </NavLink>\n          </HeaderLogOut>\n        </HeaderIsAuth>\n      );\n    }\n\n    // рендер если пользователь неавторизирован\n    return (\n      <HeaderIsNotAuth>\n        <NavLink to={signInUrl}>\n          <HeaderSignIn>Sign In</HeaderSignIn>\n        </NavLink>\n        <NavLink to={signUpUrl}>\n          <HeaderSignUp>Sign Up</HeaderSignUp>\n        </NavLink>\n      </HeaderIsNotAuth>\n    );\n  };\n\n  return (\n    <HeaderWrapper>\n      <NavLink to={mainUrl}>\n        <HeaderSignIn>Realworld Blog</HeaderSignIn>\n      </NavLink>\n      {renderHeaderMenu()}\n    </HeaderWrapper>\n  );\n};\n\nHeader.propTypes = {\n  isAuthorized: propTypes.bool,\n  username: propTypes.string,\n  userProfileImage: propTypes.string,\n  logOutSuccess: propTypes.func,\n};\n\nHeader.defaultProps = {\n  isAuthorized: false,\n  username: null,\n  userProfileImage: null,\n  logOutSuccess: null,\n};\n\nexport default connect(mapStateToProps, actionCreator)(Header);\n","import React from 'react';\nimport { formatDistanceToNow } from 'date-fns';\nimport Loader from 'react-loader-spinner';\nimport { FormItemError, LoaderWrapper } from './styled-components';\n\nexport const renderLoader = () => (\n  <LoaderWrapper>\n    <Loader type=\"Oval\" color=\"rgb(82, 196, 26)\" height={200} width={200} />\n  </LoaderWrapper>\n);\n\nexport const renderErrorMessage = (formik, fieldName) => (\n  formik.touched[fieldName] && formik.errors[fieldName] ? (\n    <FormItemError>{formik.errors[fieldName]}</FormItemError>\n  ) : null\n);\n\nexport const getDate = (createdAt) => (\n  `${formatDistanceToNow(new Date(createdAt))} ago`\n);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { Button, Input } from 'antd';\nimport { Link } from 'react-router-dom';\nimport propTypes from 'prop-types';\nimport { EyeInvisibleOutlined, EyeTwoTone } from '@ant-design/icons';\nimport 'antd/dist/antd.css';\nimport { useHistory } from 'react-router';\nimport {\n  FormItem,\n  Form,\n  FormTitle,\n  FormSubmitButtonStyles,\n  FormSignUpLink,\n  FormSignInWrapper,\n} from '../../styled-components';\nimport { signIn as signInProcess } from '../../redux/actions/auth';\nimport { signUpUrl, mainUrl } from '../../routes';\nimport { renderErrorMessage } from '../../helper';\nimport { signInErrorsCheck } from '../../API';\n\nconst formikInitialValues = {\n  email: '',\n  password: '',\n};\n\nconst mapStateToProps = (state) => {\n  const { signInState, userData } = state;\n  const { isAuthorized } = userData;\n  const isInputsDisable = (signInState === 'requested');\n\n  return { isInputsDisable, isAuthorized };\n};\n\nconst actionCreators = {\n  signIn: signInProcess,\n};\n\nconst SignIn = (props) => {\n  const { isInputsDisable, signIn, isAuthorized } = props;\n\n  const history = useHistory();\n  const redirectToHome = () => {\n    history.push(mainUrl);\n  };\n\n  const handleOnAuthorizationUser = async (formik) => {\n    const { email, password } = formik.values;\n    const userData = {\n      user: {\n        email: email.toLowerCase(),\n        password,\n      },\n    };\n    try {\n      await signIn(userData);\n    } catch (error) {\n      signInErrorsCheck(error.response.data.errors, formik);\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: formikInitialValues,\n    onSubmit: () => {\n      handleOnAuthorizationUser(formik);\n    },\n  });\n\n  useEffect(() => {\n    if (isAuthorized) redirectToHome();\n  }, [isAuthorized]);\n\n  return (\n    <FormSignInWrapper>\n      <Form onSubmit={formik.handleSubmit}>\n        <FormTitle>Sign In</FormTitle>\n        <FormItem htmlFor=\"email\">\n          Email address:\n          <Input\n            placeholder=\"Email address\"\n            id=\"email\"\n            name=\"email\"\n            onChange={formik.handleChange}\n            value={formik.values.email}\n            disabled={isInputsDisable}\n          />\n          {renderErrorMessage(formik, 'email')}\n        </FormItem>\n\n        <FormItem htmlFor=\"password\">\n          Password:\n          <Input.Password\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            onChange={formik.handleChange}\n            value={formik.values.password}\n            iconRender={(visible) => (visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />)}\n            disabled={isInputsDisable}\n          />\n          {renderErrorMessage(formik, 'password')}\n        </FormItem>\n\n        <FormItem>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"form-submit\"\n            onClick={formik.handleSubmit}\n            style={FormSubmitButtonStyles}\n            disabled={isInputsDisable}\n          >\n            Войти\n          </Button>\n        </FormItem>\n        <FormSignUpLink>\n          <span>Don&apos;t have account?</span>\n          <Link to={signUpUrl}> Sign Up.</Link>\n        </FormSignUpLink>\n      </Form>\n    </FormSignInWrapper>\n\n  );\n};\n\nSignIn.propTypes = {\n  signIn: propTypes.func,\n  isInputsDisable: propTypes.bool,\n  isAuthorized: propTypes.bool,\n};\n\nSignIn.defaultProps = {\n  signIn: null,\n  isInputsDisable: false,\n  isAuthorized: false,\n};\n\nexport default connect(mapStateToProps, actionCreators)(SignIn);\n","import React, { useEffect } from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { Button, Input, Checkbox } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport { useHistory } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { signInUrl } from '../../routes';\nimport 'antd/dist/antd.css';\nimport { signUp as signUpProcess } from '../../redux/actions/auth';\nimport {\n  FormItem,\n  Form,\n  FormCheckboxWrap,\n  FormCheckboxTitle,\n  FormSignInLink,\n  FormTitle,\n  FormSubmitButtonStyles,\n} from '../../styled-components';\nimport { renderErrorMessage } from '../../helper';\nimport { checkFieldErrors } from '../../API';\n\nconst formikInicialValues = {\n  username: '',\n  email: '',\n  password: '',\n  repeatPassword: '',\n  acceptTerms: false,\n};\n\nconst formItems = [\n  {\n    id: uniqueId(), title: 'Username', name: 'username', placeholder: 'Username', type: 'text',\n  },\n  {\n    id: uniqueId(), title: 'Email address', name: 'email', placeholder: 'Email', type: 'text',\n  },\n  {\n    id: uniqueId(), title: 'Password', name: 'password', placeholder: 'Password', type: 'password',\n  },\n  {\n    id: uniqueId(), title: 'Repeat Password', name: 'repeatPassword', placeholder: 'Repeat password', type: 'password',\n  },\n];\n\nconst formikValidationSchema = Yup.object({\n  username: Yup.string()\n    .max(30, 'Your username should be no more than 30 characters!')\n    .required('required'),\n  email: Yup.string()\n    .email('Invalid email')\n    .required('required'),\n  password: Yup.string()\n    .min(8, 'Your password need to be at least 6 characters.')\n    .max(50, 'Your password should be no more than 50 characters.')\n    .matches(/^[A-Za-z0-9]+$/, 'Password can be only with latin symbols and numbers')\n    .matches(/(?=.*[0-9])/, 'Your password need to be at least 1 number')\n    .matches(/(?=.*[A-Z])/, 'Your password need to be at least 1 uppercase symbol')\n    .required('required'),\n  repeatPassword: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Passwords must match')\n    .required('required'),\n  acceptTerms: Yup.bool()\n    .oneOf([true])\n    .required('You should accept terms'),\n});\n\nconst mapStateToProps = (state) => {\n  const { signUpState } = state;\n  const isInputsDisable = (signUpState === 'requested');\n  const isUserRegistered = (signUpState === 'finished');\n\n  return { isInputsDisable, signUpState, isUserRegistered };\n};\n\nconst actionCreators = {\n  signUp: signUpProcess,\n};\n\nconst SignUp = (props) => {\n  const { isUserRegistered, isInputsDisable, signUp } = props;\n\n  const history = useHistory();\n  const redirectToSignIn = () => {\n    history.push(signInUrl);\n  };\n\n  const handleOnSignUp = async (formik) => {\n    const { username, email, password } = formik.values;\n    const newUser = {\n      user: {\n        username,\n        email,\n        password,\n      },\n    };\n\n    try {\n      await signUp(newUser);\n    } catch (error) {\n      checkFieldErrors(error.response.data.errors, formik);\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: formikInicialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: () => {\n      handleOnSignUp(formik);\n    },\n  });\n\n  const renderInputs = () => (\n    formItems.map((formItem) => (\n      <FormItem key={formItem.id} htmlFor={formItem.name}>\n        {formItem.title}\n        <Input\n          type={formItem.type}\n          placeholder={formItem.placeholder}\n          id={formItem.name}\n          name={formItem.name}\n          onChange={formik.handleChange}\n          value={formik.values[formItem.name]}\n          disabled={isInputsDisable}\n        />\n        {renderErrorMessage(formik, formItem.name)}\n      </FormItem>\n    ))\n  );\n\n  useEffect(() => {\n    if (isUserRegistered) redirectToSignIn();\n  }, [isUserRegistered]);\n\n  return (\n    <Form onSubmit={formik.handleSubmit}>\n      <FormTitle>Create new account</FormTitle>\n\n      {renderInputs()}\n\n      <FormItem>\n        <FormCheckboxWrap>\n          <Checkbox\n            id=\"acceptTerms\"\n            name=\"acceptTerms\"\n            checked={formik.values.acceptTerms}\n            onChange={formik.handleChange}\n            disabled={isInputsDisable}\n          />\n          <FormCheckboxTitle\n            htmlFor=\"acceptTerms\"\n          >\n            I agree to the processing of my personal information\n          </FormCheckboxTitle>\n        </FormCheckboxWrap>\n        {renderErrorMessage(formik, 'acceptTerms')}\n      </FormItem>\n\n      <FormItem>\n        <Button\n          htmlType=\"submit\"\n          type=\"primary\"\n          onClick={formik.handleSubmit}\n          disabled={isInputsDisable}\n          style={FormSubmitButtonStyles}\n        >\n          Create\n        </Button>\n      </FormItem>\n\n      <FormSignInLink>\n        <span>Already have account?</span>\n        <Link to={signInUrl}> Sign In.</Link>\n      </FormSignInLink>\n    </Form>\n  );\n};\n\nSignUp.propTypes = {\n  signUp: propTypes.func,\n  isInputsDisable: propTypes.bool,\n  isUserRegistered: propTypes.bool,\n};\n\nSignUp.defaultProps = {\n  signUp: null,\n  isInputsDisable: false,\n  isUserRegistered: false,\n};\n\nexport default connect(mapStateToProps, actionCreators)(SignUp);\n","import axios from 'axios';\nimport * as routes from './routes';\nimport { mainRequestHandler, networkErrorCheck } from './index';\n\naxios.interceptors.request.use(\n  (req) => mainRequestHandler(req),\n);\n\n// редактирование профиля пользователя\n// eslint-disable-next-line import/prefer-default-export,consistent-return\nexport const editUserProfile = async (userData) => {\n  try {\n    const response = await axios.put(routes.userProfileUrl, userData);\n\n    const { user } = response.data;\n    return {\n      username: user.username,\n      userProfileImage: user.image,\n      email: user.email,\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      throw error;\n    }\n  }\n};\n","import { createAction } from 'redux-actions';\nimport * as api from '../../API/user';\n\n// изменить профиль пользователя\nexport const editUserProfileRequest = createAction('EDIT_USER_PROFILE_REQUEST');\nexport const editUserProfileSuccess = createAction('EDIT_USER_PROFILE_SUCCESS');\nexport const editUserProfileFailure = createAction('EDIT_USER_PROFILE_FAILURE');\n\nexport const editUserProfile = (userData) => async (dispatch) => {\n  dispatch(editUserProfileRequest());\n  try {\n    const response = await api.editUserProfile(userData);\n    dispatch(editUserProfileSuccess(response));\n  } catch (error) {\n    dispatch(editUserProfileFailure());\n    throw error;\n  }\n};\n","import React from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { Button, Input } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport 'antd/dist/antd.css';\nimport * as actions from '../../redux/actions/user';\nimport { checkFieldErrors } from '../../API';\n\nimport {\n  Form, FormTitle, FormItem, FormSubmitButtonStyles,\n} from '../../styled-components';\nimport { renderErrorMessage } from '../../helper';\n\nconst formItems = [\n  {\n    id: uniqueId(), title: 'Username', name: 'username', placeholder: 'Username',\n  },\n  {\n    id: uniqueId(), title: 'Email address', name: 'email', placeholder: 'Email',\n  },\n  {\n    id: uniqueId(), title: 'Avatar image (url)', name: 'image', placeholder: 'url',\n  },\n];\n\nconst formikValidationSchema = Yup.object({\n  username: Yup.string()\n    .max(30, 'Your username should be no more than 30 characters!'),\n  email: Yup.string()\n    .email('Invalid email'),\n  image: Yup.string()\n    .url('Not correct url'),\n});\n\nconst mapStateToProps = (state) => {\n  const { userData } = state;\n  const userDataInitialValues = {\n    email: userData.email,\n    image: userData.userProfileImage,\n    username: userData.username,\n  };\n  return { isInputsDisable: state.editUserProfileState === 'requested', userDataInitialValues };\n};\n\nconst actionCreator = {\n  editUserProfile: actions.editUserProfile,\n};\n\nconst EditProfile = (props) => {\n  const { isInputsDisable, editUserProfile, userDataInitialValues } = props;\n\n  const handleOnEditUserProfile = async (formik) => {\n    const { username, email, image } = formik.values;\n\n    const userData = {\n      user: {\n        username: (username.length === 0) ? userDataInitialValues.username : username,\n        email: (email.length === 0) ? userDataInitialValues.email : email,\n        image: (image.length === 0) ? userDataInitialValues.image : image,\n      },\n    };\n\n    try {\n      await editUserProfile(userData);\n    } catch (error) {\n      checkFieldErrors(error.response.data.errors, formik);\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: userDataInitialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: async () => {\n      await handleOnEditUserProfile(formik);\n    },\n  });\n\n  const renderInputs = () => (\n    formItems.map((formItem) => (\n      <FormItem key={formItem.id} htmlFor={formItem.name}>\n        {formItem.title}\n        <Input\n          type=\"text\"\n          placeholder={formItem.placeholder}\n          id={formItem.name}\n          name={formItem.name}\n          onChange={formik.handleChange}\n          value={formik.values[formItem.name]}\n          disabled={isInputsDisable}\n        />\n        {renderErrorMessage(formik, formItem.name)}\n      </FormItem>\n    ))\n  );\n\n  return (\n    <Form onSubmit={formik.handleSubmit}>\n      <FormTitle>Edit Profile</FormTitle>\n\n      {renderInputs()}\n\n      <FormItem>\n        <Button\n          htmlType=\"submit\"\n          type=\"primary\"\n          onClick={formik.handleSubmit}\n          disabled={isInputsDisable}\n          style={FormSubmitButtonStyles}\n        >\n          Save\n        </Button>\n      </FormItem>\n    </Form>\n  );\n};\n\nEditProfile.propTypes = {\n  isInputsDisable: propTypes.bool,\n  editUserProfile: propTypes.func,\n  userDataInitialValues: propTypes.objectOf(propTypes.object),\n};\n\nEditProfile.defaultProps = {\n  isInputsDisable: false,\n  editUserProfile: null,\n  userDataInitialValues: {},\n};\n\nexport default connect(mapStateToProps, actionCreator)(EditProfile);\n","import axios from 'axios';\nimport { uniqueId } from 'lodash';\nimport * as routes from './routes';\nimport { networkErrorCheck, mainRequestHandler } from './index';\n\naxios.interceptors.request.use(\n  (req) => mainRequestHandler(req),\n);\n\nexport const getArticles = async (articlesPerRequest, offset) => {\n  try {\n    const response = await axios({\n      url: routes.articlesUrl,\n      params: { limit: articlesPerRequest, offset },\n      method: 'GET',\n    });\n\n    const { articles } = response.data;\n\n    const initialArticlesById = articles.map((el) => ({\n      ...el,\n      id: uniqueId(),\n      tagList: el.tagList.map((tagName) => ({ id: uniqueId(), title: tagName })),\n    }));\n\n    return {\n      articles: initialArticlesById,\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n    throw error;\n  }\n};\n\n// создание поста\n// eslint-disable-next-line consistent-return\nexport const createArticle = async (articleBody) => {\n  try {\n    const response = await axios.post(routes.articlesUrl, articleBody);\n\n    const { article } = response.data;\n\n    return {\n      ...article,\n      id: uniqueId(),\n      tagList: article.tagList.map((tagName) => ({ id: uniqueId(), title: tagName })),\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      throw error;\n    }\n  }\n};\n\n// запрос 1 поста\n// eslint-disable-next-line consistent-return\nexport const getOneArticle = async (queryParam) => {\n  try {\n    const url = routes.oneArticleUrl(queryParam);\n    const response = await axios.get(url);\n\n    const { article } = response.data;\n\n    return {\n      ...article,\n      id: uniqueId(),\n      tagList: article.tagList.map((tagName) => ({ id: uniqueId(), title: tagName })),\n    };\n  } catch (error) {\n    networkErrorCheck(error);\n  }\n};\n\n// изменить пост\nexport const editArticle = async (articleBody, queryParam) => {\n  try {\n    const url = routes.oneArticleUrl(queryParam);\n    await axios.put(url, articleBody);\n  } catch (error) {\n    networkErrorCheck(error);\n    if (error.response.status === 422) {\n      throw error;\n    }\n  }\n};\n\n// лайкнуть пост\n// eslint-disable-next-line consistent-return\nexport const addLike = async (slug) => {\n  try {\n    await axios.post(routes.changeLikeUrl(slug));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error.response);\n  }\n};\n\nexport const removeLike = async (slug) => {\n  try {\n    await axios.delete(routes.changeLikeUrl(slug));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.log(error.response);\n    throw error;\n  }\n};\n\n// удалить пост\nexport const removeArticle = async (queryParam) => {\n  const url = routes.oneArticleUrl(queryParam);\n  await axios.delete(url);\n};\n","import { createAction } from 'redux-actions';\nimport * as api from '../../API/articles';\n\n// получить посты в зависимости от страницы в пагинации\nexport const getArticlesRequest = createAction('GET_ARTICLES_REQUEST');\nexport const getArticlesSuccess = createAction('GET_ARTICLES_SUCCESS');\nexport const getArticles = (articlesPerRequest = 5, offset = 0) => async (dispatch) => {\n  dispatch(getArticlesRequest());\n  const response = await api.getArticles(articlesPerRequest, offset);\n  const { articles } = response;\n  dispatch(getArticlesSuccess(articles));\n};\n\n// создать пост\nexport const createArticleRequest = createAction('CREATE_ARTICLE_REQUEST');\nexport const createArticleSuccess = createAction('CREATE_ARTICLE_SUCCESS');\nexport const createArticleFailure = createAction('CREATE_ARTICLE_FAILURE');\n\nexport const createArticle = (articleBody) => async (dispatch) => {\n  dispatch(createArticleRequest());\n  try {\n    await api.createArticle(articleBody);\n    dispatch(createArticleSuccess());\n  } catch (error) {\n    dispatch(createArticleFailure());\n    throw error;\n  }\n};\n\n// запросить 1 пост\n// этот экшен нужен, чтобы загрузить пост просматриваемый пользователем\n// если он вбивает ссылку на пост в адресной строке\nexport const getOneArticleRequest = createAction('GET_ONE_ARTICLE_REQUEST');\nexport const getOneArticleSuccess = createAction('GET_ONE_ARTICLE_SUCCESS');\nexport const getOneArticleFailure = createAction('GET_ONE_ARTICLE_FAILURE');\n\nexport const getOneArticle = (queryParam) => async (dispatch) => {\n  dispatch(getOneArticleRequest());\n  try {\n    const response = await api.getOneArticle(queryParam);\n    dispatch(getOneArticleSuccess(response));\n  } catch (error) {\n    dispatch(getOneArticleFailure());\n    throw error;\n  }\n};\n\n// изменить пост\nexport const editArticleRequest = createAction('EDIT_ARTICLE_REQUEST');\nexport const editArticleSuccess = createAction('EDIT_ARTICLE_SUCCESS');\nexport const editArticleFailure = createAction('EDIT_ARTICLE_FAILURE');\n\nexport const editArticle = (articleData, queryParam) => async (dispatch) => {\n  dispatch(editArticleRequest());\n  try {\n    await api.editArticle(articleData, queryParam);\n    dispatch(editArticleSuccess());\n  } catch (error) {\n    dispatch(editArticleFailure);\n    throw error;\n  }\n};\n\n// лайк поста\nexport const addLikeRequest = createAction('ADD_LIKE_REQUEST');\nexport const addLikeSuccess = createAction('ADD_LIKE_SUCCESS');\nexport const addLikeFailure = createAction('ADD_LIKE_FAILURE');\nexport const addLike = (slug) => async (dispatch) => {\n  dispatch(addLikeRequest());\n  try {\n    await api.addLike(slug);\n    dispatch(addLikeSuccess());\n  } catch (error) {\n    dispatch(addLikeFailure());\n    throw error;\n  }\n};\n\nexport const refreshLikeInArticlesArray = createAction('REFRESH_LIKE_IN_ARTICLES_ARRAY');\nexport const refreshLikesUI = (slug) => async (dispatch) => {\n  dispatch(refreshLikeInArticlesArray(slug));\n};\n\nexport const removeLikeRequest = createAction('REMOVE_LIKE_REQUEST');\nexport const removeLikeSuccess = createAction('REMOVE_LIKE_SUCCESS');\nexport const removeLikeFailure = createAction('REMOVE_LIKE_FAILURE');\nexport const removeLike = (slug) => async (dispatch) => {\n  dispatch(removeLikeRequest());\n  try {\n    await api.removeLike(slug);\n    dispatch(removeLikeSuccess());\n  } catch (error) {\n    dispatch(removeLikeFailure());\n    throw error;\n  }\n};\n\nexport const refreshCurrentArticleLike = createAction('REFRESH_CURRENT_ARTICLE_LIKE');\nexport const refreshCurrentArticleLikeUI = () => async (dispatch) => {\n  dispatch(refreshCurrentArticleLike());\n};\n\n// удалить пост\nexport const removeArticleRequest = createAction('REMOVE_ARTICLE_REQUEST');\nexport const removeArticleSuccess = createAction('REMOVE_ARTICLE_SUCCESS');\nexport const removeArticleFailure = createAction('REMOVE_ARTICLE_FAILURE');\n\nexport const removeArticle = (queryParam) => async (dispatch) => {\n  dispatch(removeArticleRequest());\n  try {\n    await api.removeArticle(queryParam);\n    dispatch(removeArticleSuccess());\n  } catch (error) {\n    dispatch(removeArticleFailure());\n    throw error;\n  }\n};\n\n// обновить посты после создания нового поста / удаления / редактирования\nexport const refreshArticlesRequest = createAction('REFRESH_ARTICLES_REQUEST');\n\n// обновить список постов\nexport const refreshArticles = () => async (dispatch) => {\n  dispatch(createArticleFailure());\n  dispatch(refreshArticlesRequest());\n  dispatch(editArticleFailure());\n  dispatch(getOneArticleFailure());\n  dispatch(removeArticleFailure());\n};\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router';\nimport { getDate } from '../../helper';\nimport * as actions from '../../redux/actions/articles';\nimport {\n  ArticlesLikeImg, ArticlesDate, ArticlesDescription,\n  ArticlesHeader,\n  ArticlesInfo, ArticlesItem, ArticlesLikesCount,\n  ArticlesStats,\n  ArticlesTag, ArticlesTagsWrap,\n  ArticlesHeaderTitle, ArticlesUserImage,\n  ArticlesUserInfoWrap, ArticlesUserInfoGroup, ArticlesUsername,\n} from '../../styled-components';\nimport { articleUrl, signInUrl } from '../../routes';\nimport activeLikeSrc from '../../images/like-active.svg';\nimport disabledLikeSrc from '../../images/like-disabled.svg';\n\nconst linkStyles = {\n  textDecoration: 'none',\n  color: 'rgba(0, 0, 0, 0.75)',\n};\nconst mapStateToProps = (state) => {\n  const { isAuthorized } = state.userData;\n\n  return {\n    isAuthorized,\n  };\n};\n\nconst actionCreator = {\n  addLike: actions.addLike,\n  removeLike: actions.removeLike,\n  refreshLikesUI: actions.refreshLikesUI,\n};\n\nconst Article = (props) => {\n  const {\n    articles, refreshLikesUI,\n    addLike, removeLike,\n    isAuthorized,\n  } = props;\n\n  const [timerIdChangeLike, setTimerIdChangeLike] = useState(0);\n  const history = useHistory();\n  const redirectToSignIn = () => {\n    history.push(signInUrl);\n  };\n\n  const changeLikeRequest = (articleLikeInfo) => {\n    const { favorited, slug } = articleLikeInfo;\n    if (!favorited) {\n      return addLike(slug);\n    }\n    return removeLike(slug);\n  };\n\n  const handleOnLikeArticle = async (event, articleLikeInfo) => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (!isAuthorized) {\n      redirectToSignIn();\n      return false;\n    }\n    setTimerIdChangeLike(clearTimeout(timerIdChangeLike));\n    await refreshLikesUI(articleLikeInfo.slug);\n\n    // пользователь может припадочно жать на кнопку лайка\n    // поэтому отправляем лайк на сервер только через полсекунды\n    return setTimerIdChangeLike(setTimeout(() => changeLikeRequest(articleLikeInfo), 500));\n  };\n\n  const renderArticle = () => articles.map((article) => {\n    const {\n      author, createdAt, description, id, tagList, title, slug, favorited, favoritesCount,\n    } = article;\n    const { username, image } = author;\n    const dateDiff = getDate(createdAt);\n\n    const renderTagList = () => (\n      tagList.map((tag) => <ArticlesTag key={tag.id}>{tag.title}</ArticlesTag>)\n    );\n\n    const isLiked = favorited ? activeLikeSrc : disabledLikeSrc;\n\n    const articleLikeInfo = {\n      id,\n      favorited,\n      slug,\n    };\n\n    return (\n      <Link to={articleUrl(slug)} style={linkStyles} key={id}>\n        <ArticlesItem>\n          <ArticlesInfo>\n            <ArticlesHeader>\n              <ArticlesHeaderTitle>\n                {title}\n              </ArticlesHeaderTitle>\n              <ArticlesStats>\n                <ArticlesLikeImg\n                  onClick={(event) => handleOnLikeArticle(event, articleLikeInfo)}\n                  src={isLiked}\n                />\n                <ArticlesLikesCount>{favoritesCount}</ArticlesLikesCount>\n              </ArticlesStats>\n            </ArticlesHeader>\n            <ArticlesTagsWrap>\n              {renderTagList()}\n            </ArticlesTagsWrap>\n\n            <ArticlesDescription>\n              {description}\n            </ArticlesDescription>\n          </ArticlesInfo>\n\n          <ArticlesUserInfoWrap>\n            <ArticlesUserInfoGroup>\n              <ArticlesUsername>{username}</ArticlesUsername>\n              <ArticlesDate>{dateDiff}</ArticlesDate>\n            </ArticlesUserInfoGroup>\n            <ArticlesUserImage src={image} />\n          </ArticlesUserInfoWrap>\n        </ArticlesItem>\n      </Link>\n    );\n  });\n\n  return renderArticle();\n};\n\nexport default connect(mapStateToProps, actionCreator)(Article);\n","import React, { useEffect, useState } from 'react';\nimport { Pagination } from 'antd';\nimport { connect } from 'react-redux';\nimport propTypes from 'prop-types';\nimport * as actions from '../../redux/actions/articles';\nimport { renderLoader } from '../../helper';\nimport {\n  ArticlesWrapper,\n  PaginationWrapper,\n  ArticlesItemsWrapper,\n} from '../../styled-components';\nimport Article from './article';\n\nconst mapStateToProps = (state) => {\n  const {\n    articles, getArticlesState, createArticleState, editArticleState, removeArticleState,\n  } = state;\n\n  const props = {\n    articles,\n    isArticlesReady: getArticlesState === 'finished',\n    isRequestProcessed: getArticlesState === 'requested',\n    isNewArticleCreated: createArticleState === 'finished',\n    isArticleEdited: editArticleState === 'finished',\n    isArticleRemoved: removeArticleState === 'finished',\n  };\n\n  return props;\n};\n\nconst actionCreator = {\n  getArticles: actions.getArticles,\n  refreshArticles: actions.refreshArticles,\n};\n\nconst ArticlesList = (props) => {\n  const {\n    getArticles, articles, isArticlesReady, isRequestProcessed,\n    isNewArticleCreated, refreshArticles, isArticleEdited,\n    isArticleRemoved,\n  } = props;\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const getArticlesRequest = async () => {\n    await getArticles(5, currentPage * 5 - 5);\n  };\n\n  const renderArticles = () => {\n    if (isRequestProcessed) return renderLoader();\n    return <Article articles={articles} />;\n  };\n\n  const handleOnChangePagination = (value, pageSize) => {\n    setCurrentPage(value);\n    getArticles(pageSize, value * pageSize - pageSize);\n  };\n\n  const renderPagination = () => {\n    if (isRequestProcessed) return null;\n    return (\n      <Pagination\n        size=\"small\"\n        total={500}\n        current={currentPage}\n        pageSize={5} // по сколько айтемов на странице показываем\n        showSizeChanger={false}\n        onChange={handleOnChangePagination}\n      />\n    );\n  };\n\n  useEffect(() => {\n    if (!isArticlesReady && !isNewArticleCreated && !isArticleEdited) {\n      getArticlesRequest();\n    }\n\n    // обновляем посты после создания поста / редактирования / удаления\n    if (isNewArticleCreated || isArticleEdited || isArticleRemoved) refreshArticles();\n  }, [isArticlesReady, isNewArticleCreated, isArticleEdited, articles]);\n\n  return (\n    <ArticlesWrapper>\n      <ArticlesItemsWrapper>\n        {renderArticles()}\n      </ArticlesItemsWrapper>\n\n      <PaginationWrapper>\n        {renderPagination()}\n      </PaginationWrapper>\n    </ArticlesWrapper>\n  );\n};\n\nArticlesList.propTypes = {\n  getArticles: propTypes.func,\n  articles: propTypes.arrayOf(propTypes.object),\n  isArticlesReady: propTypes.bool,\n  isRequestProcessed: propTypes.bool,\n  isNewArticleCreated: propTypes.bool,\n  refreshArticles: propTypes.func,\n  isArticleEdited: propTypes.bool,\n  isArticleRemoved: propTypes.bool,\n};\n\nArticlesList.defaultProps = {\n  getArticles: null,\n  articles: [],\n  isArticlesReady: false,\n  isRequestProcessed: false,\n  isNewArticleCreated: false,\n  refreshArticles: null,\n  isArticleEdited: false,\n  isArticleRemoved: false,\n};\n\nexport default connect(mapStateToProps, actionCreator)(ArticlesList);\n","import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ReactMarkdown from 'react-markdown';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { Modal } from 'antd';\nimport { useHistory } from 'react-router';\nimport * as actions from '../../redux/actions/articles';\nimport { editArticleUrl, mainUrl, signInUrl } from '../../routes';\nimport disabledLikeSrc from '../../images/like-disabled.svg';\nimport activeLikeSrc from '../../images/like-active.svg';\nimport { renderLoader, getDate } from '../../helper';\n\nimport {\n  ArticlesLikeImg, ArticlesDate, ArticlesDescription,\n  ArticlesHeader,\n  ArticlesInfo, ArticlesLikesCount,\n  ArticlesStats, ArticlesTag, ArticlesTagsWrap,\n  ArticlesHeaderTitle, ArticlesUserImage, ArticlesUserInfo, ArticlesUserInfoGroup, ArticlesUsername,\n  ArticleAuthorOptions, ArticleDeleteButton, ArticleEditButton, ArticleUserInfoWrap,\n  ArticleWrapper, ArticleHeader, ArticleBody,\n} from '../../styled-components';\n\nconst mapStateToProps = (state) => {\n  const {\n    articles, userData, oneArticle, oneArticleState, removeArticleState,\n  } = state;\n\n  return {\n    articles,\n    username: userData.username,\n    isOneArticleReady: (oneArticleState === 'finished'),\n    isArticleRemoved: (removeArticleState === 'finished'),\n    oneArticle,\n    removeArticleState,\n    oneArticleState,\n    isAuthorized: userData.isAuthorized,\n  };\n};\n\nconst actionCreator = {\n  getOneArticle: actions.getOneArticle,\n  removeArticle: actions.removeArticle,\n  addLike: actions.addLike,\n  removeLike: actions.removeLike,\n  refreshCurrentArticleLikeUI: actions.refreshCurrentArticleLikeUI,\n  refreshLikesUI: actions.refreshLikesUI,\n};\n\nconst Article = (props) => {\n  const {\n    username, getOneArticle,\n    oneArticle, isOneArticleReady, removeArticle, isArticleRemoved,\n    addLike, removeLike, isAuthorized, refreshCurrentArticleLikeUI, refreshLikesUI,\n  } = props;\n  const [timerIdChangeLike, setTimerIdChangeLike] = useState(0);\n  const { slug } = useParams();\n  const validSlug = slug.slice(1, slug.length);\n\n  const history = useHistory();\n  const redirectToHome = () => {\n    history.push(mainUrl);\n  };\n  const redirectToSignIn = () => {\n    history.push(signInUrl);\n  };\n\n  // 2 step\n  const changeLikeRequest = (articleLikeInfo) => {\n    const { favorited } = articleLikeInfo;\n    if (!favorited) {\n      return addLike(validSlug);\n    }\n    return removeLike(validSlug);\n  };\n\n  // 1 step\n  const handleOnLikeArticle = async (event, articleLikeInfo) => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (!isAuthorized) {\n      redirectToSignIn();\n      return false;\n    }\n    setTimerIdChangeLike(clearTimeout(timerIdChangeLike));\n    await refreshCurrentArticleLikeUI(); // UI обновить лайк текущего поста\n    await refreshLikesUI(validSlug); // UI обновить лайк в массиве постов(главная стр.)\n\n    // пользователь может припадочно жать на кнопку лайка\n    // поэтому отправляем лайк на сервер только через полсекунды\n    return setTimerIdChangeLike(setTimeout(() => changeLikeRequest(articleLikeInfo), 500));\n  };\n\n  useEffect(() => {\n    // грузим пост\n    if (Object.values(oneArticle).length === 0 || oneArticle.slug !== validSlug) {\n      getOneArticle(validSlug);\n    }\n    if (isArticleRemoved) {\n      redirectToHome();\n    }\n  }, [isArticleRemoved]);\n\n  const handleOnDeleteArticle = () => {\n    const { confirm } = Modal;\n    confirm({\n      title: 'Are you sure to delete this article?',\n      icon: <ExclamationCircleOutlined />,\n      onOk() {\n        removeArticle(validSlug);\n      },\n    });\n  };\n\n  const renderAuthorOptions = (isCurrentUserAuthor) => {\n    if (!isCurrentUserAuthor) return false;\n    return (\n      <ArticleAuthorOptions>\n        <ArticleDeleteButton onClick={handleOnDeleteArticle}>Delete</ArticleDeleteButton>\n        <Link to={editArticleUrl(validSlug)}>\n          <ArticleEditButton>Edit</ArticleEditButton>\n        </Link>\n      </ArticleAuthorOptions>\n    );\n  };\n\n  const renderArticle = (article) => {\n    if (!isOneArticleReady) return renderLoader();\n\n    const {\n      id, author, createdAt, description, favoritesCount, favorited, tagList, title, body,\n    } = article;\n    const isCurrentUserAuthor = (username === author.username);\n\n    const dateDiff = getDate(createdAt);\n\n    const renderTagList = () => (\n      tagList.map((tag) => <ArticlesTag key={tag.id}>{tag.title}</ArticlesTag>)\n    );\n\n    const isLiked = favorited ? activeLikeSrc : disabledLikeSrc;\n\n    const articleLikeInfo = {\n      id,\n      favorited,\n    };\n\n    return (\n      <ArticleWrapper>\n        <ArticleHeader>\n          <ArticlesInfo>\n            <ArticlesHeader>\n              <ArticlesHeaderTitle>\n                {title}\n              </ArticlesHeaderTitle>\n              <ArticlesStats>\n                <ArticlesLikeImg\n                  onClick={(event) => handleOnLikeArticle(event, articleLikeInfo)}\n                  src={isLiked}\n                />\n                <ArticlesLikesCount>{favoritesCount}</ArticlesLikesCount>\n              </ArticlesStats>\n            </ArticlesHeader>\n            <ArticlesTagsWrap>\n              {renderTagList()}\n            </ArticlesTagsWrap>\n\n            <ArticlesDescription>\n              {description}\n            </ArticlesDescription>\n          </ArticlesInfo>\n\n          <ArticleUserInfoWrap>\n            <ArticlesUserInfo>\n              <ArticlesUserInfoGroup>\n                <ArticlesUsername>{author.username}</ArticlesUsername>\n                <ArticlesDate>{dateDiff}</ArticlesDate>\n              </ArticlesUserInfoGroup>\n              <ArticlesUserImage src={author.image} />\n            </ArticlesUserInfo>\n            {renderAuthorOptions(isCurrentUserAuthor)}\n          </ArticleUserInfoWrap>\n        </ArticleHeader>\n\n        <ArticleBody>\n          <ReactMarkdown\n            source={body}\n          />\n        </ArticleBody>\n      </ArticleWrapper>\n    );\n  };\n\n  return renderArticle(oneArticle);\n};\n\nexport default connect(mapStateToProps, actionCreator)(Article);\n","import React, { useEffect } from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { useHistory } from 'react-router';\nimport { Button, Input } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport { useParams } from 'react-router-dom';\nimport { mainUrl } from '../../routes';\nimport { renderErrorMessage, renderLoader } from '../../helper';\nimport 'antd/dist/antd.css';\nimport * as actions from '../../redux/actions/articles';\n\nimport {\n  FormItem,\n  FormArticle,\n  FormTitle,\n  FormItemTagsWrap,\n  FormAddTagButton,\n  FormRemoveTagButton,\n  FormItemTagsTitle,\n  FormItemTag,\n} from '../../styled-components';\nimport { checkFieldErrors } from '../../API';\n\nconst formSubmitButtonStyles = {\n  height: 40,\n  maxWidth: 320,\n  width: '100%',\n};\n\nconst formAddTagInputStyles = {\n  maxWidth: 300,\n  width: '100%',\n  borderRadius: 4,\n};\n\nconst markdownStyles = {\n  flexGrow: 1,\n};\n\nconst formItems = [\n  {\n    id: uniqueId(), title: 'Title', name: 'title', placeholder: 'Title', type: 'text',\n  },\n  {\n    id: uniqueId(), title: 'Short description', name: 'description', placeholder: 'Description', type: 'text',\n  },\n];\n\nconst formikInicialValues = {\n  title: '',\n  description: '',\n  body: '',\n  tagText: '',\n  tagList: [],\n};\n\nconst formikValidationSchema = Yup.object({\n  title: Yup.string()\n    .required('required'),\n  description: Yup.string()\n    .required('required'),\n  body: Yup.string()\n    .required('required'),\n});\n\nconst mapStateToProps = (state) => {\n  const {\n    userData, oneArticle, oneArticleState, editArticleState,\n  } = state;\n\n  return {\n    username: userData.username,\n    isOneArticleReady: oneArticleState === 'finished',\n    isArticleChanged: editArticleState === 'finished',\n    isInputsDisabled: editArticleState === 'requested',\n    oneArticle,\n  };\n};\n\nconst actionCreators = {\n  editArticle: actions.editArticle,\n  getOneArticle: actions.getOneArticle,\n};\n\nconst EditArticle = (props) => {\n  const {\n    isArticleChanged, username, getOneArticle, oneArticle, isOneArticleReady, isInputsDisabled,\n  } = props;\n  const { slug } = useParams();\n  const queryParam = slug.slice(1, slug.length);\n\n  const handleOnEditArticle = async (formik) => {\n    const { editArticle } = props;\n    const {\n      title, description, body, tagList,\n    } = formik.values;\n    const tags = tagList.map((tag) => tag.title);\n\n    const articleBody = {\n      article: {\n        title, description, body, tagList: tags,\n      },\n    };\n\n    try {\n      await editArticle(articleBody, queryParam);\n    } catch (error) {\n      checkFieldErrors(error.response.data.errors, formik);\n    }\n  };\n\n  const history = useHistory();\n  const redirectToHome = () => {\n    history.push(mainUrl);\n  };\n\n  const formik = useFormik({\n    initialValues: formikInicialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: async () => {\n      await handleOnEditArticle(formik);\n    },\n  });\n\n  const setFormikValues = (article) => {\n    if (!isOneArticleReady) return false;\n\n    const {\n      author, description, tagList, title, body,\n    } = article;\n\n    const isCurrentUserAuthor = (username === author.username);\n    if (!isCurrentUserAuthor) redirectToHome();\n    formik.setFieldValue('title', title);\n    formik.setFieldValue('description', description);\n    formik.setFieldValue('body', body);\n    formik.setFieldValue('tagList', tagList);\n    return true;\n  };\n\n  useEffect(() => {\n    // запросить у сервера дату этого поста\n    if (!isOneArticleReady) getOneArticle(queryParam);\n\n    // изменить данные поста\n    if (isOneArticleReady) setFormikValues(oneArticle);\n\n    // редирект после изменения\n    if (isArticleChanged) {\n      redirectToHome();\n    }\n  }, [oneArticle, isArticleChanged]);\n\n  const handleOnAddTag = () => {\n    const { tagText, tagList } = formik.values;\n    if (tagText.trim().length === 0) {\n      formik.setFieldValue('tagText', '');\n      return;\n    }\n\n    const initialNewTag = {\n      id: uniqueId(),\n      title: tagText,\n    };\n\n    const newTagsArray = [...tagList, initialNewTag];\n    formik.setFieldValue('tagList', newTagsArray);\n    formik.setFieldValue('tagText', '');\n  };\n\n  const handleOnRemoveTag = (id) => () => {\n    const { tagList } = formik.values;\n\n    const newTagsArray = tagList.filter((tag) => tag.id !== id);\n\n    formik.setFieldValue('tagList', newTagsArray);\n  };\n\n  const handleOnClearTagInput = () => {\n    formik.setFieldValue('tagText', '');\n  };\n\n  const renderTags = () => {\n    const { tagList } = formik.values;\n    if (tagList.length === 0) return null;\n\n    return tagList.map((tag) => {\n      const { id, title } = tag;\n\n      return (\n        <FormItemTag key={id}>\n          <Input\n            style={formAddTagInputStyles}\n            onChange={formik.handleChange}\n            value={title}\n            disabled={isInputsDisabled}\n          />\n          <FormRemoveTagButton onClick={handleOnRemoveTag(id)}>Delete</FormRemoveTagButton>\n        </FormItemTag>\n      );\n    });\n  };\n\n  const renderInputs = () => (\n    formItems.map((formItem) => (\n      <FormItem key={formItem.id} htmlFor={formItem.name}>\n        {formItem.title}\n        <Input\n          type={formItem.type}\n          placeholder={formItem.placeholder}\n          id={formItem.name}\n          name={formItem.name}\n          onChange={formik.handleChange}\n          value={formik.values[formItem.name]}\n          disabled={isInputsDisabled}\n        />\n        {renderErrorMessage(formik, formItem.name)}\n      </FormItem>\n    ))\n  );\n\n  const renderForm = () => (\n    <FormArticle onSubmit={formik.handleSubmit}>\n      <FormTitle>Edit Article</FormTitle>\n\n      {renderInputs()}\n\n      <FormItem htmlFor=\"body\" style={markdownStyles}>\n        Text\n        <Input.TextArea\n          name=\"body\"\n          id=\"body\"\n          onChange={formik.handleChange}\n          value={formik.values.body}\n          rows={8}\n          disabled={isInputsDisabled}\n          allowClear\n        />\n        {renderErrorMessage(formik, 'body')}\n      </FormItem>\n\n      <FormItemTagsWrap>\n        <FormItemTagsTitle>Tags</FormItemTagsTitle>\n        {renderTags()}\n        <FormItemTag>\n          <Input\n            name=\"tagText\"\n            id=\"tagText\"\n            placeholder=\"write tag\"\n            style={formAddTagInputStyles}\n            onChange={formik.handleChange}\n            value={formik.values.tagText}\n            disabled={isInputsDisabled}\n          />\n          <FormRemoveTagButton onClick={handleOnClearTagInput}>Delete</FormRemoveTagButton>\n          <FormAddTagButton onClick={handleOnAddTag}>Add tag</FormAddTagButton>\n        </FormItemTag>\n      </FormItemTagsWrap>\n\n      <Button\n        htmlType=\"submit\"\n        type=\"primary\"\n        onClick={formik.handleSubmit}\n        style={formSubmitButtonStyles}\n        disabled={isInputsDisabled}\n      >\n        Send\n      </Button>\n    </FormArticle>\n  );\n\n  return (!isOneArticleReady) ? renderLoader() : renderForm();\n};\n\nEditArticle.propTypes = {\n  isArticleChanged: propTypes.bool,\n  username: propTypes.string,\n  getOneArticle: propTypes.func,\n  isOneArticleReady: propTypes.bool,\n  editArticle: propTypes.func,\n};\n\nEditArticle.defaultProps = {\n  isArticleChanged: false,\n  username: null,\n  getOneArticle: null,\n  oneArticle: {},\n  isOneArticleReady: false,\n  editArticle: null,\n};\n\nexport default connect(mapStateToProps, actionCreators)(EditArticle);\n","import React, { useEffect } from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { useHistory } from 'react-router';\nimport { Button, Input } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport { renderErrorMessage } from '../../helper';\nimport { mainUrl } from '../../routes';\nimport 'antd/dist/antd.css';\nimport * as actions from '../../redux/actions/articles';\n\nimport {\n  FormItem,\n  FormArticle,\n  FormTitle,\n  FormItemTagsWrap,\n  FormAddTagButton,\n  FormRemoveTagButton,\n  FormItemTagsTitle,\n  FormItemTag,\n} from '../../styled-components';\nimport { checkFieldErrors } from '../../API';\n\nconst formSubmitButtonStyles = {\n  height: 40,\n  maxWidth: 320,\n  width: '100%',\n};\n\nconst formAddTagInputStyles = {\n  maxWidth: 300,\n  width: '100%',\n  borderRadius: 4,\n};\n\nconst markdownStyles = {\n  flexGrow: 1,\n};\n\nconst formikInicialValues = {\n  title: '',\n  description: '',\n  body: '',\n  tagText: '',\n  tagList: [],\n};\n\nconst formItems = [\n  {\n    id: uniqueId(), title: 'Title', name: 'title', placeholder: 'Title', type: 'text',\n  },\n  {\n    id: uniqueId(), title: 'Short description', name: 'description', placeholder: 'Description', type: 'text',\n  },\n];\n\nconst formikValidationSchema = Yup.object({\n  title: Yup.string()\n    .required('required'),\n  description: Yup.string()\n    .required('required'),\n  body: Yup.string()\n    .required('required'),\n});\n\nconst mapStateToProps = (state) => {\n  const { createArticleState } = state;\n  return {\n    isArticlePublished: createArticleState === 'finished',\n    isInputsDisabled: createArticleState === 'requested',\n  };\n};\n\nconst actionCreators = {\n  createArticle: actions.createArticle,\n};\n\nconst CreateArticle = (props) => {\n  const { isArticlePublished, isInputsDisabled } = props;\n  const history = useHistory();\n  const redirectToHome = () => {\n    history.push(mainUrl);\n  };\n\n  const handleOnCreateArticle = async (formik) => {\n    const { createArticle } = props;\n    const {\n      title, description, body, tagList,\n    } = formik.values;\n    const tags = tagList.map((tag) => tag.value);\n\n    const articleBody = {\n      article: {\n        title, description, body, tagList: tags,\n      },\n    };\n\n    try {\n      await createArticle(articleBody);\n    } catch (error) {\n      checkFieldErrors(error.response.data.errors, formik);\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: formikInicialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: () => {\n      handleOnCreateArticle(formik);\n    },\n  });\n\n  const handleOnAddTag = () => {\n    const { tagText, tagList } = formik.values;\n    if (tagText.trim().length === 0) {\n      formik.setFieldValue('tagText', '');\n      return;\n    }\n\n    const initialNewTag = {\n      id: uniqueId(),\n      value: tagText,\n    };\n\n    const newTagsArray = [...tagList, initialNewTag];\n    formik.setFieldValue('tagList', newTagsArray);\n    formik.setFieldValue('tagText', '');\n  };\n\n  const handleOnRemoveTag = (id) => () => {\n    const { tagList } = formik.values;\n\n    const newTagsArray = tagList.filter((tag) => tag.id !== id);\n\n    formik.setFieldValue('tags', newTagsArray);\n  };\n\n  const handleOnClearTagInput = () => {\n    formik.setFieldValue('tagText', '');\n  };\n\n  const renderTags = () => {\n    const { tagList } = formik.values;\n    if (tagList.length === 0) return null;\n\n    return tagList.map((tag) => {\n      const { id, value } = tag;\n\n      return (\n        <FormItemTag key={id}>\n          <Input\n            style={formAddTagInputStyles}\n            onChange={formik.handleChange}\n            value={value}\n            disabled={isInputsDisabled}\n          />\n          <FormRemoveTagButton onClick={handleOnRemoveTag(id)}>Delete</FormRemoveTagButton>\n        </FormItemTag>\n      );\n    });\n  };\n\n  useEffect(() => {\n    if (isArticlePublished) {\n      redirectToHome();\n    }\n  }, [isArticlePublished]);\n\n  const renderInputs = () => (\n    formItems.map((formItem) => (\n      <FormItem key={formItem.id} htmlFor={formItem.name}>\n        {formItem.title}\n        <Input\n          type={formItem.type}\n          placeholder={formItem.placeholder}\n          id={formItem.name}\n          name={formItem.name}\n          onChange={formik.handleChange}\n          value={formik.values[formItem.name]}\n          disabled={isInputsDisabled}\n        />\n        {renderErrorMessage(formik, formItem.name)}\n      </FormItem>\n    ))\n  );\n\n  return (\n    <FormArticle onSubmit={formik.handleSubmit}>\n      <FormTitle>Create new article</FormTitle>\n\n      {renderInputs()}\n\n      <FormItem htmlFor=\"body\" style={markdownStyles}>\n        Text\n        <Input.TextArea\n          name=\"body\"\n          id=\"body\"\n          onChange={formik.handleChange}\n          value={formik.values.body}\n          rows={8}\n          disabled={isInputsDisabled}\n          allowClear\n        />\n        {renderErrorMessage(formik, 'body')}\n      </FormItem>\n\n      <FormItemTagsWrap>\n        <FormItemTagsTitle>Tags</FormItemTagsTitle>\n        {renderTags()}\n        <FormItemTag>\n          <Input\n            name=\"tagText\"\n            id=\"tagText\"\n            placeholder=\"write tag\"\n            style={formAddTagInputStyles}\n            onChange={formik.handleChange}\n            value={formik.values.tagText}\n            disabled={isInputsDisabled}\n          />\n          <FormRemoveTagButton onClick={handleOnClearTagInput}>Delete</FormRemoveTagButton>\n          <FormAddTagButton onClick={handleOnAddTag}>Add tag</FormAddTagButton>\n        </FormItemTag>\n      </FormItemTagsWrap>\n\n      <Button\n        htmlType=\"submit\"\n        type=\"primary\"\n        onClick={formik.handleSubmit}\n        style={formSubmitButtonStyles}\n        disabled={isInputsDisabled}\n      >\n        Send\n      </Button>\n    </FormArticle>\n  );\n};\n\nCreateArticle.propTypes = {\n  isArticlePublished: propTypes.bool,\n  createArticle: propTypes.func,\n  isInputsDisabled: propTypes.bool,\n};\n\nCreateArticle.defaultProps = {\n  isArticlePublished: false,\n  createArticle: null,\n  isInputsDisabled: false,\n};\n\nexport default connect(mapStateToProps, actionCreators)(CreateArticle);\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route, Redirect,\n} from 'react-router-dom';\nimport PrivateRoute from '../react-router/private-route';\nimport AuthRoute from '../react-router/auth-route';\nimport Header from './header';\nimport SignIn from './sign-in';\nimport SignUp from './sign-up';\nimport EditProfile from './edit-profile';\nimport ArticlesList from './articles-list';\nimport Article from './article';\nimport EditArticle from './edit-article';\nimport CreateArticle from './create-article';\nimport {\n  MainWrapper, ContentHeader, ContentWrapper, ContentBody, ContentAuth,\n} from '../styled-components';\nimport {\n  mainUrl,\n  createArticleUrl,\n  signInUrl,\n  signUpUrl,\n  articleUrl,\n  editArticleUrl,\n  editProfileUrl,\n} from '../routes';\n\nconst App = () => (\n  <MainWrapper>\n    <Router>\n      <ContentHeader>\n        <Header />\n      </ContentHeader>\n      <ContentWrapper>\n        <Switch>\n          <Route exact path={mainUrl} component={ArticlesList}>\n            <ContentBody>\n              <ArticlesList />\n            </ContentBody>\n          </Route>\n\n          <AuthRoute path={signInUrl}>\n            <ContentAuth>\n              <SignIn />\n            </ContentAuth>\n          </AuthRoute>\n\n          <AuthRoute path={signUpUrl}>\n            <ContentAuth>\n              <SignUp />\n            </ContentAuth>\n          </AuthRoute>\n\n          <PrivateRoute path={editProfileUrl}>\n            <ContentAuth>\n              <EditProfile />\n            </ContentAuth>\n          </PrivateRoute>\n\n          <PrivateRoute path={createArticleUrl}>\n            <ContentBody>\n              <CreateArticle />\n            </ContentBody>\n          </PrivateRoute>\n\n          <Route path={editArticleUrl()}>\n            <ContentBody>\n              <EditArticle />\n            </ContentBody>\n          </Route>\n\n          <Route path={articleUrl()}>\n            <ContentBody>\n              <Article />\n            </ContentBody>\n          </Route>\n\n          <Redirect to={mainUrl} />\n\n        </Switch>\n      </ContentWrapper>\n    </Router>\n  </MainWrapper>\n);\n\nexport default App;\n","import { handleActions } from 'redux-actions';\nimport * as articlesActions from '../actions/articles';\n\nexport const articles = handleActions({\n  [articlesActions.getArticlesSuccess](state, action) {\n    return [...action.payload];\n  },\n  [articlesActions.refreshLikeInArticlesArray](state, { payload }) {\n    const currentArticleIndex = state.findIndex((el) => el.slug === payload);\n    const currentArticle = state[currentArticleIndex];\n    const changedArticle = {\n      ...currentArticle,\n      favorited: !currentArticle.favorited,\n      favoritesCount: (currentArticle.favorited)\n        ? currentArticle.favoritesCount - 1\n        : currentArticle.favoritesCount + 1,\n    };\n    return [\n      ...state.slice(0, currentArticleIndex),\n      changedArticle,\n      ...state.slice(currentArticleIndex + 1),\n    ];\n  },\n  [articlesActions.createArticleSuccess]() {\n    return [];\n  },\n  [articlesActions.editArticleSuccess]() {\n    return [];\n  },\n  [articlesActions.removeArticleSuccess]() {\n    return [];\n  },\n}, []);\n\nexport const oneArticle = handleActions({\n  [articlesActions.getOneArticleSuccess](state, action) {\n    return { ...action.payload };\n  },\n  [articlesActions.refreshCurrentArticleLike](state) {\n    const favoritesCount = (state.favorited) ? state.favoritesCount - 1 : state.favoritesCount + 1;\n    return { ...state, favorited: !state.favorited, favoritesCount };\n  },\n}, {});\n\nexport const getArticlesState = handleActions({\n  [articlesActions.getArticlesRequest]() {\n    return 'requested';\n  },\n  [articlesActions.refreshArticlesRequest]() {\n    return 'requested';\n  },\n  [articlesActions.getArticlesSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const createArticleState = handleActions({\n  [articlesActions.createArticleRequest]() {\n    return 'requested';\n  },\n  [articlesActions.createArticleFailure]() {\n    return 'failed';\n  },\n  [articlesActions.createArticleSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const oneArticleState = handleActions({\n  [articlesActions.getOneArticleRequest]() {\n    return 'requested';\n  },\n  [articlesActions.getOneArticleFailure]() {\n    return 'failed';\n  },\n  [articlesActions.getOneArticleSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const editArticleState = handleActions({\n  [articlesActions.editArticleRequest]() {\n    return 'requested';\n  },\n  [articlesActions.editArticleFailure]() {\n    return 'failed';\n  },\n  [articlesActions.editArticleSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const addLikeState = handleActions({\n  [articlesActions.addLikeRequest]() {\n    return 'requested';\n  },\n  [articlesActions.addLikeFailure]() {\n    return 'failed';\n  },\n  [articlesActions.addLikeSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const removeLikeState = handleActions({\n  [articlesActions.removeLikeRequest]() {\n    return 'requested';\n  },\n  [articlesActions.removeLikeFailure]() {\n    return 'failed';\n  },\n  [articlesActions.removeLikeSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const removeArticleState = handleActions({\n  [articlesActions.removeArticleRequest]() {\n    return 'requested';\n  },\n  [articlesActions.removeArticleFailure]() {\n    return 'failed';\n  },\n  [articlesActions.removeArticleSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n","export const setItemToLocalstorage = (key, value) => {\n  localStorage.setItem(String(key), String(value));\n};\n\nexport const removeItemFromLocalstorage = (key) => {\n  localStorage.removeItem(key);\n};\n","import { handleActions } from 'redux-actions';\nimport * as authActions from '../actions/auth';\nimport { removeItemFromLocalstorage, setItemToLocalstorage } from '../../localstorage';\nimport * as userActions from '../actions/user';\n\nexport const signUpState = handleActions({\n  [authActions.signUpRequest]() {\n    return 'requested';\n  },\n  [authActions.signUpFailure]() {\n    return 'failed';\n  },\n  [authActions.signUpSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nexport const signInState = handleActions({\n  [authActions.signInRequest]() {\n    return 'requested';\n  },\n  [authActions.signInFailure]() {\n    return 'failed';\n  },\n  [authActions.signInSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n\nconst userDataInitial = () => {\n  if (localStorage.token === undefined) {\n    return {\n      username: '', token: '', isAuthorized: false, userProfileImage: undefined, email: '',\n    };\n  }\n  return {\n    isAuthorized: true,\n    token: localStorage.token,\n    username: localStorage.username,\n    userProfileImage: localStorage.userProfileImage,\n    email: localStorage.email,\n  };\n};\n\n// eslint-disable-next-line import/prefer-default-export\nexport const userData = handleActions({\n  [authActions.signInSuccess](state, action) {\n    const {\n      username, token, isAuthorized, userProfileImage, email,\n    } = action.payload;\n    setItemToLocalstorage('token', token);\n    setItemToLocalstorage('username', username);\n    setItemToLocalstorage('userProfileImage', userProfileImage);\n    setItemToLocalstorage('email', email);\n    return {\n      username, token, isAuthorized, userProfileImage, email,\n    };\n  },\n  [userActions.editUserProfileSuccess](state, action) {\n    const { username, userProfileImage, email } = action.payload;\n    removeItemFromLocalstorage('username');\n    setItemToLocalstorage('username', username);\n    removeItemFromLocalstorage('userProfileImage');\n    setItemToLocalstorage('userProfileImage', userProfileImage);\n    removeItemFromLocalstorage('email');\n    setItemToLocalstorage('email', email);\n    return {\n      ...state, username, userProfileImage, email,\n    };\n  },\n  [authActions.logOutSuccess]() {\n    removeItemFromLocalstorage('token');\n    removeItemFromLocalstorage('username');\n    removeItemFromLocalstorage('userProfileImage');\n    removeItemFromLocalstorage('email');\n    return userDataInitial();\n  },\n}, userDataInitial());\n","import { handleActions } from 'redux-actions';\nimport * as userActions from '../actions/user';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const editUserProfileState = handleActions({\n  [userActions.editUserProfileRequest]() {\n    return 'requested';\n  },\n  [userActions.editUserProfileFailure]() {\n    return 'failed';\n  },\n  [userActions.editUserProfileSuccess]() {\n    return 'finished';\n  },\n}, 'none');\n","import { combineReducers } from 'redux';\nimport * as articles from './articles';\nimport * as auth from './auth';\nimport * as editUser from './editUser';\n\nexport default combineReducers({\n  signUpState: auth.signUpState,\n  signInState: auth.signInState,\n  editUserProfileState: editUser.editUserProfileState,\n  getArticlesState: articles.getArticlesState,\n  createArticleState: articles.createArticleState,\n  oneArticleState: articles.oneArticleState,\n  editArticleState: articles.editArticleState,\n  addLikeState: articles.addLikeState,\n  removeLikeState: articles.removeLikeState,\n  removeArticleState: articles.removeArticleState,\n\n  userData: auth.userData,\n  articles: articles.articles,\n  oneArticle: articles.oneArticle,\n});\n","/* eslint-disable no-underscore-dangle */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport reducers from './redux/reducers';\n\nconst store = createStore(\n  reducers,\n  compose(\n    applyMiddleware(thunk),\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n  ),\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}