{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stalk\\\\jm-blog-platform\\\\src\\\\components\\\\create-article\\\\index.js\";\nimport React from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { Button, Input, Checkbox } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport { Link, Redirect } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport * as actions from '../../redux/actions';\nimport { FormItem, Form, FormTitle, FormSubmitButtonStyles } from '../../styled-components';\nimport { renderErrorMessage } from '../../helper';\nimport { signInUrl } from '../../routes';\nconst {\n  TextArea\n} = Input;\nconst formikInicialValues = {\n  title: '',\n  description: '',\n  text: '',\n  tags: []\n};\nconst formItems = [{\n  id: uniqueId(),\n  title: 'Title',\n  name: 'title',\n  placeholder: 'title',\n  type: 'text'\n}, {\n  id: uniqueId(),\n  title: 'Short description',\n  name: 'description',\n  placeholder: 'description',\n  type: 'text'\n}];\nconst CreateArticle = Yup.object({\n  login: Yup.string().max(30, 'Your username should be no more than 30 characters!').required('required'),\n  email: Yup.string().email('Invalid email').required('required'),\n  password: Yup.string().min(8, 'Your password need to be at least 6 characters.').max(50, 'Your password should be no more than 50 characters.').matches(/^[A-Za-z0-9]+$/, 'Password can be only with latin symbols and numbers').matches(/(?=.*[0-9])/, 'Your password need to be at least 1 number').matches(/(?=.*[A-Z])/, 'Your password need to be at least 1 uppercase symbol').required('required'),\n  repeatPassword: Yup.string().oneOf([Yup.ref('password'), null], 'Passwords must match').required('required'),\n  acceptTerms: Yup.bool().oneOf([true]).required('You should accept terms')\n});\n\nconst mapStateToProps = state => {\n  const {\n    signUpState\n  } = state;\n  const isInputsDisable = signUpState === 'requested';\n  const isSignUpRequestSuccess = signUpState === 'finished';\n  return {\n    isInputsDisable,\n    signUpState,\n    isSignUpRequestSuccess\n  };\n};\n\nconst actionCreators = {\n  signUp: actions.signUp\n};\n\nconst SignUp = props => {\n  const {\n    isInputsDisable,\n    signUp,\n    isSignUpRequestSuccess\n  } = props;\n\n  const handleOnSignUp = async formik => {\n    const {\n      login,\n      email,\n      password\n    } = formik.values;\n    const newUser = {\n      user: {\n        username: login,\n        email,\n        password\n      }\n    };\n    signUp(newUser);\n    formik.resetForm();\n  };\n\n  const ifAuthRedirectToSignIn = () => isSignUpRequestSuccess ? /*#__PURE__*/React.createElement(Redirect, {\n    to: signInUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 33\n    }\n  }) : null;\n\n  const formik = useFormik({\n    initialValues: formikInicialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: () => {\n      // eslint-disable-next-line no-use-before-define\n      handleOnSignUp(formik);\n    }\n  });\n\n  const renderInputs = () => formItems.map(formItem => /*#__PURE__*/React.createElement(FormItem, {\n    key: formItem.id,\n    htmlFor: formItem.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, formItem.title, /*#__PURE__*/React.createElement(Input, {\n    type: formItem.type,\n    placeholder: formItem.placeholder,\n    id: formItem.name,\n    name: formItem.name,\n    onChange: formik.handleChange,\n    value: formik.values[formItem.name],\n    disabled: isInputsDisable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), renderErrorMessage(formik, formItem.name)));\n\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: formik.handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FormTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, \"Create new article\"), renderInputs(), /*#__PURE__*/React.createElement(FormItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    rows: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(FormItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    htmlType: \"submit\",\n    type: \"primary\",\n    onClick: formik.handleSubmit,\n    disabled: isInputsDisable,\n    style: FormSubmitButtonStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, \"Send\")));\n};\n\nSignUp.propTypes = {\n  signUp: propTypes.func,\n  isInputsDisable: propTypes.bool,\n  isSignUpRequestSuccess: propTypes.bool\n};\nSignUp.defaultProps = {\n  signUp: null,\n  isInputsDisable: false,\n  isSignUpRequestSuccess: false\n};\nexport default connect(mapStateToProps, actionCreators)(CreateArticle);","map":{"version":3,"sources":["C:/Users/stalk/jm-blog-platform/src/components/create-article/index.js"],"names":["React","uniqueId","connect","useFormik","Button","Input","Checkbox","propTypes","Yup","Link","Redirect","actions","FormItem","Form","FormTitle","FormSubmitButtonStyles","renderErrorMessage","signInUrl","TextArea","formikInicialValues","title","description","text","tags","formItems","id","name","placeholder","type","CreateArticle","object","login","string","max","required","email","password","min","matches","repeatPassword","oneOf","ref","acceptTerms","bool","mapStateToProps","state","signUpState","isInputsDisable","isSignUpRequestSuccess","actionCreators","signUp","SignUp","props","handleOnSignUp","formik","values","newUser","user","username","resetForm","ifAuthRedirectToSignIn","initialValues","validationSchema","formikValidationSchema","onSubmit","renderInputs","map","formItem","handleChange","handleSubmit","func","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { uniqueId } from 'lodash';\nimport { connect } from 'react-redux';\nimport { useFormik } from 'formik';\nimport { Button, Input, Checkbox } from 'antd';\nimport propTypes from 'prop-types';\nimport * as Yup from 'yup';\nimport { Link, Redirect } from 'react-router-dom';\nimport 'antd/dist/antd.css';\nimport * as actions from '../../redux/actions';\nimport {\n  FormItem,\n  Form,\n  FormTitle,\n  FormSubmitButtonStyles,\n} from '../../styled-components';\nimport { renderErrorMessage } from '../../helper';\nimport { signInUrl } from '../../routes';\n\nconst { TextArea } = Input;\n\nconst formikInicialValues = {\n  title: '',\n  description: '',\n  text: '',\n  tags: [],\n};\n\nconst formItems = [\n  {\n    id: uniqueId(), title: 'Title', name: 'title', placeholder: 'title', type: 'text',\n  },\n  {\n    id: uniqueId(), title: 'Short description', name: 'description', placeholder: 'description', type: 'text',\n  },\n];\n\nconst CreateArticle = Yup.object({\n  login: Yup.string()\n    .max(30, 'Your username should be no more than 30 characters!')\n    .required('required'),\n  email: Yup.string()\n    .email('Invalid email')\n    .required('required'),\n  password: Yup.string()\n    .min(8, 'Your password need to be at least 6 characters.')\n    .max(50, 'Your password should be no more than 50 characters.')\n    .matches(/^[A-Za-z0-9]+$/, 'Password can be only with latin symbols and numbers')\n    .matches(/(?=.*[0-9])/, 'Your password need to be at least 1 number')\n    .matches(/(?=.*[A-Z])/, 'Your password need to be at least 1 uppercase symbol')\n    .required('required'),\n  repeatPassword: Yup.string()\n    .oneOf([Yup.ref('password'), null], 'Passwords must match')\n    .required('required'),\n  acceptTerms: Yup.bool()\n    .oneOf([true])\n    .required('You should accept terms'),\n});\n\nconst mapStateToProps = (state) => {\n  const { signUpState } = state;\n  const isInputsDisable = (signUpState === 'requested');\n  const isSignUpRequestSuccess = (signUpState === 'finished');\n\n  return { isInputsDisable, signUpState, isSignUpRequestSuccess };\n};\n\nconst actionCreators = {\n  signUp: actions.signUp,\n};\n\nconst SignUp = (props) => {\n  const { isInputsDisable, signUp, isSignUpRequestSuccess } = props;\n\n  const handleOnSignUp = async (formik) => {\n    const { login, email, password } = formik.values;\n    const newUser = {\n      user: {\n        username: login,\n        email,\n        password,\n      },\n    };\n    signUp(newUser);\n    formik.resetForm();\n  };\n\n  const ifAuthRedirectToSignIn = () => (\n    (isSignUpRequestSuccess) ? (<Redirect to={signInUrl} />) : null\n  );\n\n  const formik = useFormik({\n    initialValues: formikInicialValues,\n    validationSchema: formikValidationSchema,\n    onSubmit: () => {\n      // eslint-disable-next-line no-use-before-define\n      handleOnSignUp(formik);\n    },\n  });\n\n  const renderInputs = () => (\n    formItems.map((formItem) => (\n      <FormItem key={formItem.id} htmlFor={formItem.name}>\n        {formItem.title}\n        <Input\n          type={formItem.type}\n          placeholder={formItem.placeholder}\n          id={formItem.name}\n          name={formItem.name}\n          onChange={formik.handleChange}\n          value={formik.values[formItem.name]}\n          disabled={isInputsDisable}\n        />\n        {renderErrorMessage(formik, formItem.name)}\n      </FormItem>\n    ))\n  );\n\n  return (\n    <Form onSubmit={formik.handleSubmit}>\n      <FormTitle>Create new article</FormTitle>\n\n      {renderInputs()}\n\n      <FormItem>\n        <TextArea rows={6}></TextArea>\n      </FormItem>\n\n      <FormItem>\n        <Button\n          htmlType=\"submit\"\n          type=\"primary\"\n          onClick={formik.handleSubmit}\n          disabled={isInputsDisable}\n          style={FormSubmitButtonStyles}\n        >\n          Send\n        </Button>\n      </FormItem>\n    </Form>\n  );\n};\n\nSignUp.propTypes = {\n  signUp: propTypes.func,\n  isInputsDisable: propTypes.bool,\n  isSignUpRequestSuccess: propTypes.bool,\n};\n\nSignUp.defaultProps = {\n  signUp: null,\n  isInputsDisable: false,\n  isSignUpRequestSuccess: false,\n};\n\nexport default connect(mapStateToProps, actionCreators)(CreateArticle);\n\n"]},"metadata":{},"sourceType":"module"}